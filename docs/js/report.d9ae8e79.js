(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["report"],{"08d1":function(e,t,c){"use strict";c.r(t);c("b0c0"),c("b680");var a=c("7a23"),n={class:"info",style:{width:"40%",float:"left"}},r={style:{position:"relative",top:"100px"}},s=Object(a["p"])("  "),u=Object(a["p"])("  "),o={style:{color:"red"}},i={style:{margin:"10px"}},l={class:"cases"},_={class:"test-result__content"},b=Object(a["p"])(),d=Object(a["n"])("br",null,null,-1),O=Object(a["n"])("br",null,null,-1),j=Object(a["p"])("详情");function f(e,t,c,f,p,m){var g=Object(a["T"])("a-descriptions-item"),h=Object(a["T"])("a-descriptions"),v=Object(a["T"])("a-progress"),k=Object(a["T"])("a-tag"),E=Object(a["T"])("a-drawer"),w=Object(a["T"])("router-link"),y=Object(a["T"])("a-button"),P=Object(a["T"])("a-table");return Object(a["K"])(),Object(a["m"])(a["b"],null,[Object(a["n"])("h1",null,Object(a["X"])(e.info.name),1),Object(a["n"])("div",n,[Object(a["q"])(h,{title:"",bordered:"",column:1},{default:Object(a["gb"])((function(){return[Object(a["q"])(g,{label:"项目"},{default:Object(a["gb"])((function(){return[Object(a["p"])(Object(a["X"])(e.info.project),1)]})),_:1}),Object(a["q"])(g,{label:"环境"},{default:Object(a["gb"])((function(){return[Object(a["p"])(Object(a["X"])(e.info.env),1)]})),_:1}),Object(a["q"])(g,{label:"用例数"},{default:Object(a["gb"])((function(){return[Object(a["p"])(Object(a["X"])(e.info.cases_count),1)]})),_:1}),Object(a["q"])(g,{label:"执行时间"},{default:Object(a["gb"])((function(){return[Object(a["p"])(Object(a["X"])(e.info.create_time),1)]})),_:1}),Object(a["q"])(g,{label:"通过率"},{default:Object(a["gb"])((function(){return[Object(a["p"])(Object(a["X"])(100-(e.count.cases_false/e.count.cases_count*100).toFixed(2))+"%",1)]})),_:1})]})),_:1})]),Object(a["n"])("div",null,[Object(a["n"])("div",r,[Object(a["q"])(v,{type:"circle",percent:(e.count.cases_false/e.count.cases_count*100).toFixed(2),status:"exception",format:function(e){return"".concat(e," %")}},null,8,["percent","format"]),s,Object(a["q"])(v,{type:"circle",percent:(e.count.skip/e.count.cases_count*100).toFixed(2),strokeColor:"#FFA500",format:function(e){return"".concat(e," %")}},null,8,["percent","format"]),u,Object(a["q"])(v,{type:"circle",percent:100-(e.count.cases_false/e.count.cases_count*100).toFixed(2),format:function(e){return"".concat(e," %")}},{format:Object(a["gb"])((function(e){return[Object(a["n"])("span",o,Object(a["X"])(e),1)]})),_:1},8,["percent","format"]),Object(a["n"])("div",i,[Object(a["q"])(k,{color:"#f50"},{default:Object(a["gb"])((function(){return[Object(a["p"])("失败："+Object(a["X"])(e.count.cases_false),1)]})),_:1}),Object(a["q"])(k,{color:"#FFA500"},{default:Object(a["gb"])((function(){return[Object(a["p"])("跳过: "+Object(a["X"])(e.count.skip),1)]})),_:1}),Object(a["q"])(k,{color:"#87d068"},{default:Object(a["gb"])((function(){return[Object(a["p"])("通过："+Object(a["X"])(e.count.cases_count-e.count.cases_false),1)]})),_:1})])])]),Object(a["n"])("div",l,[Object(a["q"])(E,{visible:e.visible,"onUpdate:visible":t[0]||(t[0]=function(t){return e.visible=t}),class:"custom-class",style:{color:"red"},title:"Basic Drawer",placement:"right",width:"520",onAfterVisibleChange:e.afterVisibleChange},{default:Object(a["gb"])((function(){return[Object(a["n"])("h2",null,[Object(a["p"])(Object(a["X"])(e.case_details.name)+" ",1),"FALSE"==e.case_details.result?(Object(a["K"])(),Object(a["k"])(k,{key:0,color:"#f50"},{default:Object(a["gb"])((function(){return[Object(a["p"])(Object(a["X"])(e.case_details.result),1)]})),_:1})):"SKIP"==e.case_details.result?(Object(a["K"])(),Object(a["k"])(k,{key:1,color:"#FFA500"},{default:Object(a["gb"])((function(){return[Object(a["p"])(Object(a["X"])(e.case_details.result),1)]})),_:1})):(Object(a["K"])(),Object(a["k"])(k,{key:2,color:"#87d068"},{default:Object(a["gb"])((function(){return[Object(a["p"])(Object(a["X"])(e.case_details.result),1)]})),_:1}))]),Object(a["n"])("div",_,[Object(a["q"])(h,{title:"",column:1},{default:Object(a["gb"])((function(){return[Object(a["q"])(g,{label:"runtime"},{default:Object(a["gb"])((function(){return[Object(a["p"])(Object(a["X"])(e.case_details.runtaime)+" ms",1)]})),_:1}),Object(a["q"])(g,{label:"Name"},{default:Object(a["gb"])((function(){return[Object(a["p"])(Object(a["X"])(e.case_details.name),1)]})),_:1}),Object(a["q"])(g,{label:"method"},{default:Object(a["gb"])((function(){return[Object(a["p"])(Object(a["X"])(e.case_details.method),1)]})),_:1}),Object(a["q"])(g,{label:"status_code"},{default:Object(a["gb"])((function(){return[Object(a["p"])(Object(a["X"])(e.case_details.status_code),1)]})),_:1}),Object(a["q"])(g,{label:"URL"},{default:Object(a["gb"])((function(){return[Object(a["p"])(Object(a["X"])(e.case_details.url),1)]})),_:1}),Object(a["q"])(g,{label:"header"},{default:Object(a["gb"])((function(){return[Object(a["p"])(Object(a["X"])(e.case_details.header),1)]})),_:1}),Object(a["q"])(g,{label:"parameter"},{default:Object(a["gb"])((function(){return[Object(a["p"])(Object(a["X"])(e.case_details.parameter),1)]})),_:1}),Object(a["q"])(g,{label:"data"},{default:Object(a["gb"])((function(){return[Object(a["p"])(Object(a["X"])(e.case_details.data),1)]})),_:1}),"PASS"!=e.case_details.result?(Object(a["K"])(),Object(a["k"])(h,{key:0},{default:Object(a["gb"])((function(){return[Object(a["q"])(g,{label:"response"},{default:Object(a["gb"])((function(){return[Object(a["p"])("msg: "+Object(a["X"])(e.case_details.assert_msg),1)]})),_:1}),b,d,O,Object(a["q"])(g,{label:"assert"},{default:Object(a["gb"])((function(){return[Object(a["p"])("response: "+Object(a["X"])(e.case_details.response),1)]})),_:1})]})),_:1})):Object(a["l"])("",!0)]})),_:1})])]})),_:1},8,["visible","onAfterVisibleChange"]),Object(a["q"])(P,{columns:e.columns,"data-source":e.data,pagination:!1},{bodyCell:Object(a["gb"])((function(t){var c=t.column,n=t.record,r=t.text;return["name"===c.key?(Object(a["K"])(),Object(a["k"])(w,{key:0,to:{path:"/apiDetail",query:{id:n.id}}},{default:Object(a["gb"])((function(){return[Object(a["n"])("a",null,Object(a["X"])(r),1)]})),_:2},1032,["to"])):Object(a["l"])("",!0),"result"===c.key?(Object(a["K"])(),Object(a["m"])(a["b"],{key:1},["FALSE"==n.result?(Object(a["K"])(),Object(a["k"])(k,{key:0,color:"#f50"},{default:Object(a["gb"])((function(){return[Object(a["p"])(Object(a["X"])(n.result),1)]})),_:2},1024)):"SKIP"==n.result?(Object(a["K"])(),Object(a["k"])(k,{key:1,color:"#FFA500"},{default:Object(a["gb"])((function(){return[Object(a["p"])(Object(a["X"])(n.result),1)]})),_:2},1024)):(Object(a["K"])(),Object(a["k"])(k,{key:2,color:"#87d068"},{default:Object(a["gb"])((function(){return[Object(a["p"])(Object(a["X"])(n.result),1)]})),_:2},1024))],64)):Object(a["l"])("",!0),"operation"===c.key?(Object(a["K"])(),Object(a["k"])(y,{key:2,type:"primary",onClick:function(t){return e.showDrawer(n)}},{default:Object(a["gb"])((function(){return[j]})),_:2},1032,["onClick"])):Object(a["l"])("",!0)]})),_:1},8,["columns","data-source"])])],64)}var p=c("4bff"),m=(c("7d67"),c("6b0d")),g=c.n(m);const h=g()(p["a"],[["render",f]]);t["default"]=h},1148:function(e,t,c){"use strict";var a=c("da84"),n=c("5926"),r=c("577e"),s=c("1d80"),u=a.RangeError;e.exports=function(e){var t=r(s(this)),c="",a=n(e);if(a<0||a==1/0)throw u("Wrong number of repetitions");for(;a>0;(a>>>=1)&&(t+=t))1&a&&(c+=t);return c}},"1c31":function(e,t,c){"use strict";c.d(t,"b",(function(){return n})),c.d(t,"a",(function(){return r}));var a=c("b775");function n(e){return a["a"].request({method:"get",url:"report/",params:e})}function r(e){return a["a"].request({method:"delete",url:"report/",data:[e]})}},"2f1c":function(e,t,c){"use strict";c.r(t);var a=c("7a23"),n=["onClick"];function r(e,t,c,r,s,u){var o=Object(a["T"])("router-link"),i=Object(a["T"])("a-table");return Object(a["K"])(),Object(a["k"])(i,{columns:e.columns,"data-source":e.data,scroll:{y:800}},{bodyCell:Object(a["gb"])((function(t){var c=t.record,r=t.column,s=t.text;return["name"===r.dataIndex?(Object(a["K"])(),Object(a["k"])(o,{key:0,to:{path:"/report",query:{id:c.id}}},{default:Object(a["gb"])((function(){return[Object(a["n"])("a",null,Object(a["X"])(s),1)]})),_:2},1032,["to"])):Object(a["l"])("",!0),"result"===r.dataIndex?(Object(a["K"])(),Object(a["m"])(a["b"],{key:1},[Object(a["p"])(Object(a["X"])(JSON.parse(s).cases_false>0?"失败":"通过"),1)],64)):Object(a["l"])("",!0),"operation"===r.key?(Object(a["K"])(),Object(a["m"])("a",{key:2,onClick:function(t){return e.deletes(c)}},"Delete",8,n)):Object(a["l"])("",!0)]})),_:1},8,["columns","data-source"])}var s=c("1c31"),u=c("6c02"),o=c("f64c"),i=[{title:"Full Name",width:"20%",dataIndex:"name",key:"name",ellipsis:!0},{title:"result",width:"20%",dataIndex:"result",key:"result",ellipsis:!0},{title:"project",dataIndex:"project__name",key:"project__name",width:"20%",ellipsis:!0},{title:"createtime",dataIndex:"create_time",key:"create_time",width:"20%",ellipsis:!0},{title:"Action",key:"operation",width:120}],l=Object(a["r"])({setup:function(){var e=Object(a["P"])(),t=Object(u["d"])().currentRoute.value.query,c=function(){Object(s["b"])(t).then((function(t){e.value=t.data}))};c();var n=function(e){Object(s["a"])(e.id).then((function(e){200==e.code?(o["a"].success({content:"删除成功！",duration:5}),c()):o["a"].success({content:"删除失败！",duration:5})}))};return{deletes:n,data:e,columns:i}}}),_=c("6b0d"),b=c.n(_);const d=b()(l,[["render",r]]);t["default"]=d},"408a":function(e,t,c){var a=c("e330");e.exports=a(1..valueOf)},"4bff":function(module,__webpack_exports__,__webpack_require__){"use strict";var core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("b0c0"),core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_0__),vue__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("7a23"),ant_design_vue__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("f64c"),_api_report__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("1c31"),vue_router__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("6c02"),columns=[{title:"Full Name",width:250,dataIndex:"name",key:"name",fixed:"left",ellipsis:!0},{title:"module",dataIndex:"module",key:"module",width:150},{title:"url",dataIndex:"url",key:"url",width:350,ellipsis:!0},{title:"method",dataIndex:"method",key:"method",width:"20%"},{title:"status_code",dataIndex:"status_code",key:"status_code",width:"20%"},{title:"result",dataIndex:"result",key:"result",width:"20%",ellipsis:!0},{title:"runtime(ms)",dataIndex:"run_time",key:"runtime",width:"20%"},{title:"Action",key:"operation",fixed:"right",width:100}];__webpack_exports__["a"]=Object(vue__WEBPACK_IMPORTED_MODULE_1__["r"])({setup:function setup(){var data=Object(vue__WEBPACK_IMPORTED_MODULE_1__["P"])(),info=Object(vue__WEBPACK_IMPORTED_MODULE_1__["O"])({name:"",project:"",cases_count:"",create_time:"",env:"",passing_rate:""}),count=Object(vue__WEBPACK_IMPORTED_MODULE_1__["O"])({cases_count:0,cases_false:0,skip:0}),id=Object(vue_router__WEBPACK_IMPORTED_MODULE_4__["d"])().currentRoute.value.query;Object(_api_report__WEBPACK_IMPORTED_MODULE_3__["b"])(id).then((function(res){201==res.code&&ant_design_vue__WEBPACK_IMPORTED_MODULE_2__["a"].error({content:res.msg,duration:5}),data.value=eval("("+res.data[0].details+")");var result=eval("("+res.data[0].result+")");count.cases_count=result.cases_count,count.cases_false=result.cases_false,count.skip=result.cases_skip,info.project=res.data[0].project__name,info.env=res.data[0].env,info.create_time=res.data[0].create_time,info.cases_count=result.cases_count,info.name=res.data[0].name,case_details.project=res.data[0].project__name}));var visible=Object(vue__WEBPACK_IMPORTED_MODULE_1__["P"])(!1),afterVisibleChange=function(e){console.log("visible",e)},case_details=Object(vue__WEBPACK_IMPORTED_MODULE_1__["O"])({name:"",project:"",url:"",method:"",module:"",header:"",parameter:"",data:"",asserts:"",response:"",runtaime:"",result:"",assert_msg:""}),showDrawer=function(e){visible.value=!0,case_details.name=e.name,case_details.url=e.url,case_details.module=e.module,case_details.method=e.method,case_details.status_code=e.status_code,case_details.header=e.headers,case_details.parameter=e.parameter,case_details.data=e.data,case_details.response=e.response,case_details.result=e.result,case_details.runtaime=e.run_time,case_details.assert_msg=e.assert_msg};return{columns:columns,data:data,count:count,info:info,visible:visible,afterVisibleChange:afterVisibleChange,showDrawer:showDrawer,case_details:case_details}}})},"7d67":function(e,t,c){"use strict";c("ea45")},b680:function(e,t,c){"use strict";var a=c("23e7"),n=c("da84"),r=c("e330"),s=c("5926"),u=c("408a"),o=c("1148"),i=c("d039"),l=n.RangeError,_=n.String,b=Math.floor,d=r(o),O=r("".slice),j=r(1..toFixed),f=function(e,t,c){return 0===t?c:t%2===1?f(e,t-1,c*e):f(e*e,t/2,c)},p=function(e){var t=0,c=e;while(c>=4096)t+=12,c/=4096;while(c>=2)t+=1,c/=2;return t},m=function(e,t,c){var a=-1,n=c;while(++a<6)n+=t*e[a],e[a]=n%1e7,n=b(n/1e7)},g=function(e,t){var c=6,a=0;while(--c>=0)a+=e[c],e[c]=b(a/t),a=a%t*1e7},h=function(e){var t=6,c="";while(--t>=0)if(""!==c||0===t||0!==e[t]){var a=_(e[t]);c=""===c?a:c+d("0",7-a.length)+a}return c},v=i((function(){return"0.000"!==j(8e-5,3)||"1"!==j(.9,0)||"1.25"!==j(1.255,2)||"1000000000000000128"!==j(0xde0b6b3a7640080,0)}))||!i((function(){j({})}));a({target:"Number",proto:!0,forced:v},{toFixed:function(e){var t,c,a,n,r=u(this),o=s(e),i=[0,0,0,0,0,0],b="",j="0";if(o<0||o>20)throw l("Incorrect fraction digits");if(r!=r)return"NaN";if(r<=-1e21||r>=1e21)return _(r);if(r<0&&(b="-",r=-r),r>1e-21)if(t=p(r*f(2,69,1))-69,c=t<0?r*f(2,-t,1):r/f(2,t,1),c*=4503599627370496,t=52-t,t>0){m(i,0,c),a=o;while(a>=7)m(i,1e7,0),a-=7;m(i,f(10,a,1),0),a=t-1;while(a>=23)g(i,1<<23),a-=23;g(i,1<<a),m(i,1,1),g(i,2),j=h(i)}else m(i,0,c),m(i,1<<-t,0),j=h(i)+d("0",o);return o>0?(n=j.length,j=b+(n<=o?"0."+d("0",o-n)+j:O(j,0,n-o)+"."+O(j,n-o))):j=b+j,j}})},b775:function(e,t,c){"use strict";c("d3b7");var a,n=c("bc3a"),r=c.n(n),s=c("56cd"),u=c("6c02");a="dev"==Object({NODE_ENV:"production",BASE_URL:""}).VUE_APP_FLAG?Object({NODE_ENV:"production",BASE_URL:""}).VUE_APP_BASEURL:"https://www.zaojingyoutu.top:8002/api/";var o=r.a.create({baseURL:a,timeout:3e5});o.defaults.headers.post["Content-Type"]="application/json;charset=UTF-8";var i=function(e){if(e.response){var t=e.response.data,c=localStorage.getItem("token");if(403===e.response.status&&(s["a"].error({message:"Forbidden",description:t.message}),window.location.href="#/login"),401===e.response.status&&(!t.result||!t.result.isLogin)){s["a"].error({message:"Unauthorized",description:"Authorization verification failed"}),c&&window.location.reload();var a=Object(u["d"])();a.push("/login")}}return Promise.reject(e)};o.interceptors.request.use((function(e){var t=localStorage.getItem("token");return t&&(e.headers["Authorization"]=t),e}),i),o.interceptors.response.use((function(e){return"string"!=typeof e.data&&(e.data["status"]=e.status),e.data}),i),t["a"]=o},ea45:function(e,t,c){}}]);
//# sourceMappingURL=report.d9ae8e79.js.map