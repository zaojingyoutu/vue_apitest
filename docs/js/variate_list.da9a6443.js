(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["variate_list"],{"0f0c":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return c}));var a=n("b775");function r(e,t){return a["a"].request({method:t,url:"globalsvariate/",data:e})}function o(e){return a["a"].request({method:"get",url:"globalsvariate/",params:e})}function c(e){return a["a"].request({method:"delete",url:"globalsvariate/",data:[e]})}},3957:function(e,t,n){"use strict";n.r(t);var a=n("7a23"),r=Object(a["p"])("Create "),o=["onClick"],c=Object(a["p"])(" | "),i=Object(a["n"])("a",null,"Edit",-1);function u(e,t,n,u,s,l){var d=Object(a["T"])("router-link"),b=Object(a["T"])("a-button"),p=Object(a["T"])("a-table");return Object(a["K"])(),Object(a["m"])(a["b"],null,[Object(a["q"])(b,{type:"primary"},{default:Object(a["gb"])((function(){return[Object(a["q"])(d,{to:"create_variate"},{default:Object(a["gb"])((function(){return[r]})),_:1})]})),_:1}),Object(a["q"])(p,{columns:e.columns,"data-source":e.data,scroll:{x:1200,y:800}},{bodyCell:Object(a["gb"])((function(t){var n=t.record,r=t.column,u=t.text;return["name"===r.dataIndex?(Object(a["K"])(),Object(a["k"])(d,{key:0,to:{path:"/case",query:{project_id:n.id}}},{default:Object(a["gb"])((function(){return[Object(a["n"])("a",null,Object(a["X"])(u),1)]})),_:2},1032,["to"])):Object(a["l"])("",!0),"operation"===r.key?(Object(a["K"])(),Object(a["m"])(a["b"],{key:1},[Object(a["n"])("a",{onClick:function(t){return e.deletes(n)}},"Delete",8,o),c,Object(a["q"])(d,{to:{path:"/create_variate",query:{id:n.id}}},{default:Object(a["gb"])((function(){return[i]})),_:2},1032,["to"])],64)):Object(a["l"])("",!0)]})),_:1},8,["columns","data-source"])],64)}var s=n("0f0c"),l=n("f64c"),d=[{title:"变量名",width:"20%",dataIndex:"key",ellipsis:!0,key:"key"},{title:"变量值",width:"20%",dataIndex:"value",ellipsis:!0,key:"value"},{title:"环境",dataIndex:"env",key:"env",ellipsis:!0,width:"20%"},{title:"项目",dataIndex:"project__name",key:"project__name",ellipsis:!0,width:"20%"},{title:"createtime",dataIndex:"create_time",key:"create_time",ellipsis:!0,width:"20%"},{title:"Action",key:"operation",ellipsis:!0,width:120}],b=Object(a["r"])({data:function(){return{data:[],columns:d}},created:function(){var e=this;Object(s["c"])().then((function(t){e.data=t.data,console.log("=========")}))},setup:function(){var e=function(e){Object(s["b"])(e.id).then((function(e){200==e.code?(l["a"].success({content:"删除成功！",duration:5}),location.reload()):l["a"].success({content:"删除失败！",duration:5}),console.log(e),console.log(e.data.data.result)}))};return{deletes:e}}}),p=n("6b0d"),f=n.n(p);const j=f()(b,[["render",u]]);t["default"]=j},b775:function(e,t,n){"use strict";n("d3b7");var a=n("bc3a"),r=n.n(a),o=n("56cd"),c=n("6c02"),i=r.a.create({baseURL:"https://124.71.4.214:8000/api/",timeout:1e4});i.defaults.headers.post["Content-Type"]="application/json;charset=UTF-8";var u=function(e){if(e.response){var t=e.response.data,n=localStorage.getItem("token");if(403===e.response.status&&(o["a"].error({message:"Forbidden",description:t.message}),window.location.href="#/login"),401===e.response.status&&(!t.result||!t.result.isLogin)){o["a"].error({message:"Unauthorized",description:"Authorization verification failed"}),n&&window.location.reload();var a=Object(c["c"])();a.push("/login")}}return Promise.reject(e)};i.interceptors.request.use((function(e){var t=localStorage.getItem("token");return t&&(e.headers["Authorization"]=t),e}),u),i.interceptors.response.use((function(e){return e.data}),u),t["a"]=i}}]);
//# sourceMappingURL=variate_list.da9a6443.js.map