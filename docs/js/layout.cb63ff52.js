(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["layout"],{"08c8":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n("b775");function c(e){return a["a"].request({method:"post",url:"debug/",data:e})}},"166b":function(e,t,n){"use strict";var a=n("7a23"),c={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M904 160H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0 624H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0-312H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8z"}}]},name:"menu",theme:"outlined"},r=c,u=n("b3f0");function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},a=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){o(e,t,n[t])}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=function(e,t){var n=l({},e,t.attrs);return a["q"](u["a"],a["y"](n,{icon:r}),null)};i.displayName="MenuOutlined",i.inheritAttrs=!1;t["a"]=i},1670:function(e,t,n){"use strict";n("af76")},2532:function(e,t,n){"use strict";var a=n("23e7"),c=n("e330"),r=n("5a34"),u=n("1d80"),l=n("577e"),o=n("ab13"),i=c("".indexOf);a({target:"String",proto:!0,forced:!o("includes")},{includes:function(e){return!!~i(l(u(this)),l(r(e)),arguments.length>1?arguments[1]:void 0)}})},"44e7":function(e,t,n){var a=n("861d"),c=n("c6b6"),r=n("b622"),u=r("match");e.exports=function(e){var t;return a(e)&&(void 0!==(t=e[u])?!!t:"RegExp"==c(e))}},"4fad":function(e,t,n){var a=n("23e7"),c=n("6f53").entries;a({target:"Object",stat:!0},{entries:function(e){return c(e)}})},"5a34":function(e,t,n){var a=n("da84"),c=n("44e7"),r=a.TypeError;e.exports=function(e){if(c(e))throw r("The method doesn't accept regular expressions");return e}},"6f53":function(e,t,n){var a=n("83ab"),c=n("e330"),r=n("df75"),u=n("fc6a"),l=n("d1e7").f,o=c(l),i=c([].push),s=function(e){return function(t){var n,c=u(t),l=r(c),s=l.length,d=0,b=[];while(s>d)n=l[d++],a&&!o(c,n)||i(b,e?[n,c[n]]:c[n]);return b}};e.exports={entries:s(!0),values:s(!1)}},"88d4":function(e,t,n){},"8fc6":function(e,t,n){"use strict";var a=n("7a23"),c={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M696 480H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"minus-circle",theme:"outlined"},r=c,u=n("b3f0");function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},a=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){o(e,t,n[t])}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=function(e,t){var n=l({},e,t.attrs);return a["q"](u["a"],a["y"](n,{icon:r}),null)};i.displayName="MinusCircleOutlined",i.inheritAttrs=!1;t["a"]=i},"93c7":function(e,t,n){"use strict";n.r(t);n("b0c0");var a=n("7a23"),c=function(e){return Object(a["N"])("data-v-2c0de63e"),e=e(),Object(a["L"])(),e},r={class:"Breadcrumb",style:{"text-align":"left",height:"30px"}},u=c((function(){return Object(a["n"])("a",null,"接口列表",-1)})),l=Object(a["p"])("接口详情"),o={class:"describe",style:{float:"right",width:"40%","text-align":"center","z-index":"1",position:"fixed",right:"0"}},i=Object(a["p"])("全局变量管理"),s=Object(a["p"])(" | "),d={class:"basicInfo",style:{width:"50%","text-align":"left"}},b={class:"name",style:{width:"75%"}},f=c((function(){return Object(a["n"])("br",null,null,-1)})),O=c((function(){return Object(a["n"])("br",null,null,-1)})),j={class:"type",style:{width:"30%",float:"left",height:"32px"}},p=c((function(){return Object(a["n"])("br",null,null,-1)})),h=c((function(){return Object(a["n"])("br",null,null,-1)})),m={class:"project"},v={class:"selectEnv",style:{float:"left"}},y={class:"module",style:{width:"40%"}},g={class:"requestInfo"},_={class:"requestHead"},q={class:"method",style:{float:"left"}},U=Object(a["p"])("POST"),x=Object(a["p"])("GET"),w=Object(a["p"])("PUT"),k=Object(a["p"])("DELETE"),R={class:"url",style:{float:"left",width:"60%"}},C={class:"method",style:{float:"left"}},K=Object(a["p"])("Send"),S={class:"method",style:{float:"left"}},F=Object(a["p"])("save"),P={class:"requestBody"},N=c((function(){return Object(a["n"])("span",null," header ",-1)})),M=c((function(){return Object(a["n"])("span",null," parameter ",-1)})),Q=c((function(){return Object(a["n"])("span",null," data ",-1)})),T=c((function(){return Object(a["n"])("span",null," asserts ",-1)})),I=Object(a["p"])("response"),E=Object(a["p"])("响应状态"),J=Object(a["p"])("无"),V=Object(a["p"])(" 添加断言 "),A=c((function(){return Object(a["n"])("span",null," setup ",-1)})),z=c((function(){return Object(a["n"])("span",null," response ",-1)})),D={style:{float:"right"}},B={key:0},H={key:1},L=c((function(){return Object(a["n"])("span",null," teardown ",-1)})),G=c((function(){return Object(a["n"])("span",null," asserts result ",-1)}));function Y(e,t,n,c,Y,X){var $=Object(a["U"])("router-link"),W=Object(a["U"])("a-breadcrumb-item"),Z=Object(a["U"])("a-breadcrumb"),ee=Object(a["U"])("a-textarea"),te=Object(a["U"])("a-collapse-panel"),ne=Object(a["U"])("a-collapse"),ae=Object(a["U"])("a-input"),ce=Object(a["U"])("a-form-item"),re=Object(a["U"])("a-select"),ue=Object(a["U"])("a-select-option"),le=Object(a["U"])("a-button"),oe=Object(a["U"])("a-form"),ie=Object(a["U"])("a-tab-pane"),se=Object(a["U"])("MinusCircleOutlined"),de=Object(a["U"])("a-space"),be=Object(a["U"])("PlusOutlined"),fe=Object(a["U"])("associatedCases"),Oe=Object(a["U"])("a-spin"),je=Object(a["U"])("a-tabs");return Object(a["K"])(),Object(a["m"])(a["b"],null,[Object(a["n"])("div",r,[Object(a["q"])(Z,{style:{float:"left"}},{default:Object(a["hb"])((function(){return[Object(a["q"])(W,null,{default:Object(a["hb"])((function(){return[Object(a["q"])($,{to:{path:"/api",query:{project_id:e.project.project_id}}},{default:Object(a["hb"])((function(){return[u]})),_:1},8,["to"])]})),_:1}),Object(a["q"])(W,null,{default:Object(a["hb"])((function(){return[l]})),_:1})]})),_:1}),Object(a["n"])("div",o,[Object(a["q"])(ne,{ghost:""},{default:Object(a["hb"])((function(){return[Object(a["q"])(te,{key:"1",header:"描述"},{default:Object(a["hb"])((function(){return[Object(a["q"])(ee,{value:e.modelRef.describe,"onUpdate:value":t[0]||(t[0]=function(t){return e.modelRef.describe=t}),placeholder:"请添加",rows:4},null,8,["value"])]})),_:1}),Object(a["q"])($,{to:{path:"/variate_list",query:{project:e.modelRef.project}},target:"_blank"},{default:Object(a["hb"])((function(){return[i]})),_:1},8,["to"]),s,Object(a["n"])("button",{id:"copyButton",onClick:t[1]||(t[1]=function(){return e.copyButton&&e.copyButton.apply(e,arguments)})},"Copy")]})),_:1})])]),Object(a["n"])("div",null,[Object(a["n"])("div",d,[Object(a["n"])("div",b,[Object(a["q"])(ce,{label:"用例名称："},{default:Object(a["hb"])((function(){return[Object(a["q"])(ae,{value:e.modelRef.name,"onUpdate:value":t[2]||(t[2]=function(t){return e.modelRef.name=t}),placeholder:"用例标题"},null,8,["value"]),f,O]})),_:1})]),Object(a["n"])("div",j,[Object(a["q"])(ce,{label:"环境："},{default:Object(a["hb"])((function(){return[Object(a["q"])(re,{ref:"select",value:e.modelRef.env,"onUpdate:value":t[3]||(t[3]=function(t){return e.modelRef.env=t}),style:{width:"120px"},options:e.options1,onFocus:e.focus,onChange:e.handleChange},null,8,["value","options","onFocus","onChange"]),p,h]})),_:1})]),Object(a["n"])("div",m,[Object(a["q"])(ce,{label:"项目："},{default:Object(a["hb"])((function(){return[Object(a["n"])("div",v,[Object(a["q"])(re,{ref:"select",value:e.modelRef.project,"onUpdate:value":t[4]||(t[4]=function(t){return e.modelRef.project=t}),style:{width:"120px"},options:e.optionsProject,onFocus:e.focus,onChange:e.handleChange},null,8,["value","options","onFocus","onChange"])])]})),_:1})]),Object(a["n"])("div",y,[Object(a["q"])(ce,{label:"模块："},{default:Object(a["hb"])((function(){return[Object(a["q"])(ae,{value:e.modelRef.module,"onUpdate:value":t[5]||(t[5]=function(t){return e.modelRef.module=t}),placeholder:"模块"},null,8,["value"])]})),_:1})])]),Object(a["n"])("div",g,[Object(a["n"])("div",_,[Object(a["q"])(oe,{"label-col":e.labelCol,"wrapper-col":e.wrapperCol},{default:Object(a["hb"])((function(){return[Object(a["n"])("div",q,[Object(a["q"])(re,{value:e.modelRef.method,"onUpdate:value":t[6]||(t[6]=function(t){return e.modelRef.method=t}),placeholder:"method"},{default:Object(a["hb"])((function(){return[Object(a["q"])(ue,{value:"POST"},{default:Object(a["hb"])((function(){return[U]})),_:1}),Object(a["q"])(ue,{value:"GET"},{default:Object(a["hb"])((function(){return[x]})),_:1}),Object(a["q"])(ue,{value:"PUT"},{default:Object(a["hb"])((function(){return[w]})),_:1}),Object(a["q"])(ue,{value:"DELETE"},{default:Object(a["hb"])((function(){return[k]})),_:1})]})),_:1},8,["value"])]),Object(a["n"])("div",R,[Object(a["q"])(ae,{value:e.modelRef.url,"onUpdate:value":t[7]||(t[7]=function(t){return e.modelRef.url=t}),placeholder:"url"},null,8,["value"])]),Object(a["n"])("div",C,[Object(a["q"])(le,{onClick:e.debug},{default:Object(a["hb"])((function(){return[K]})),_:1},8,["onClick"])]),Object(a["n"])("div",S,[Object(a["q"])(le,{type:"primary",onClick:Object(a["jb"])(e.onSubmit,["prevent"])},{default:Object(a["hb"])((function(){return[F]})),_:1},8,["onClick"])])]})),_:1},8,["label-col","wrapper-col"])]),Object(a["n"])("div",P,[Object(a["q"])(je,{activeKey:e.activeKey,"onUpdate:activeKey":t[15]||(t[15]=function(t){return e.activeKey=t})},{default:Object(a["hb"])((function(){return[Object(a["q"])(ie,{key:"1"},{tab:Object(a["hb"])((function(){return[N]})),default:Object(a["hb"])((function(){return[Object(a["q"])(ee,{value:e.modelRef.header,"onUpdate:value":t[8]||(t[8]=function(t){return e.modelRef.header=t}),style:{"margin-top":"0px","margin-bottom":"0px",height:"460px"}},null,8,["value"])]})),_:1}),Object(a["q"])(ie,{key:"2"},{tab:Object(a["hb"])((function(){return[M]})),default:Object(a["hb"])((function(){return[Object(a["q"])(ee,{value:e.modelRef.parameter,"onUpdate:value":t[9]||(t[9]=function(t){return e.modelRef.parameter=t}),style:{"margin-top":"0px","margin-bottom":"0px",height:"460px"}},null,8,["value"])]})),_:1}),Object(a["q"])(ie,{key:"3"},{tab:Object(a["hb"])((function(){return[Q]})),default:Object(a["hb"])((function(){return[Object(a["q"])(ee,{value:e.modelRef.data,"onUpdate:value":t[10]||(t[10]=function(t){return e.modelRef.data=t}),style:{"margin-top":"0px","margin-bottom":"0px",height:"460px"}},null,8,["value"])]})),_:1}),Object(a["q"])(ie,{key:"4"},{tab:Object(a["hb"])((function(){return[T]})),default:Object(a["hb"])((function(){return[Object(a["q"])(oe,{ref:"formRef",name:"dynamic_form_nest_item",model:e.dynamicValidateForm,onFinish:e.onFinish},{default:Object(a["hb"])((function(){return[(Object(a["K"])(!0),Object(a["m"])(a["b"],null,Object(a["S"])(e.modelRef.asserts,(function(t){return Object(a["K"])(),Object(a["k"])(de,{key:t.id,style:{display:"flex","margin-bottom":"8px"},align:"baseline"},{default:Object(a["hb"])((function(){return[Object(a["q"])(re,{ref_for:!0,ref:"select",value:t.mold,"onUpdate:value":function(e){return t.mold=e},style:{width:"120px"},onFocus:e.focus,placeholder:"断言类型"},{default:Object(a["hb"])((function(){return[Object(a["q"])(ue,{value:"response"},{default:Object(a["hb"])((function(){return[I]})),_:1}),Object(a["q"])(ue,{value:"Status"},{default:Object(a["hb"])((function(){return[E]})),_:1}),Object(a["q"])(ue,{value:"None"},{default:Object(a["hb"])((function(){return[J]})),_:1})]})),_:2},1032,["value","onUpdate:value","onFocus"]),Object(a["q"])(ce,null,{default:Object(a["hb"])((function(){return["response"==t.mold?(Object(a["K"])(),Object(a["k"])(ae,{key:0,value:t.value,"onUpdate:value":function(e){return t.value=e},placeholder:"请填写断言json"},null,8,["value","onUpdate:value"])):(Object(a["K"])(),Object(a["k"])(ae,{key:1,value:t.value,"onUpdate:value":function(e){return t.value=e},placeholder:"请填写响应状态码"},null,8,["value","onUpdate:value"]))]})),_:2},1024),Object(a["q"])(se,{onClick:function(n){return e.removeAssert(t)}},null,8,["onClick"])]})),_:2},1024)})),128)),Object(a["q"])(ce,null,{default:Object(a["hb"])((function(){return[Object(a["q"])(le,{type:"dashed",block:"",onClick:e.addAssert},{default:Object(a["hb"])((function(){return[Object(a["q"])(be),V]})),_:1},8,["onClick"])]})),_:1})]})),_:1},8,["model","onFinish"])]})),_:1}),Object(a["q"])(ie,{key:"5"},{tab:Object(a["hb"])((function(){return[A]})),default:Object(a["hb"])((function(){return[Object(a["q"])(fe,{associations:e.modelRef.setup,"onUpdate:associations":t[11]||(t[11]=function(t){return e.associations=e.modelRef.setup})},null,8,["associations"])]})),_:1}),Object(a["q"])(ie,{key:"6"},{tab:Object(a["hb"])((function(){return[z]})),default:Object(a["hb"])((function(){return[Object(a["n"])("p",D," 响应状态："+Object(a["Y"])(e.modelRef.status)+" 运行时间："+Object(a["Y"])(e.modelRef.run_time),1),e.resp_loading?(Object(a["K"])(),Object(a["m"])("div",B,[Object(a["q"])(ee,{value:e.modelRef.response,"onUpdate:value":t[12]||(t[12]=function(t){return e.modelRef.response=t}),style:{"margin-top":"0px","margin-bottom":"0px",height:"460px"}},null,8,["value"])])):(Object(a["K"])(),Object(a["m"])("div",H,[Object(a["q"])(Oe)]))]})),_:1}),Object(a["q"])(ie,{key:"7"},{tab:Object(a["hb"])((function(){return[L]})),default:Object(a["hb"])((function(){return[Object(a["q"])(fe,{associations:e.modelRef.teardown,"onUpdate:associations":t[13]||(t[13]=function(t){return e.associations=e.modelRef.teardown})},null,8,["associations"])]})),_:1}),Object(a["q"])(ie,{key:"8"},{tab:Object(a["hb"])((function(){return[G]})),default:Object(a["hb"])((function(){return[Object(a["q"])(ee,{value:e.modelRef.result,"onUpdate:value":t[14]||(t[14]=function(t){return e.modelRef.result=t}),style:{"margin-top":"0px","margin-bottom":"0px",height:"150px"}},null,8,["value"])]})),_:1})]})),_:1},8,["activeKey"])])])])],64)}var X=n("5530"),$=(n("e9c4"),n("caad"),n("2532"),n("a434"),n("5a04")),W=n("3af3"),Z=n("6c02"),ee=n("f64c"),te=n("8fc6"),ne=n("47ce"),ae=n("58ef"),ce=n("24d2"),re=n("08c8"),ue=Object(a["p"])(" 响应数据：response.json() 全局变量设置：set_global_svariate(dict) 局部变量设置：self.set_variate(key,value) "),le=Object(a["n"])("a",null,"to case",-1),oe=Object(a["p"])("response"),ie=Object(a["p"])("parameter"),se=Object(a["p"])("data"),de=Object(a["p"])("无"),be=Object(a["p"])("jmespath"),fe=Object(a["p"])("正则"),Oe=Object(a["p"])("json提取"),je=Object(a["p"])("是否执行前置处理"),pe=Object(a["p"])("是否执行后置处理"),he=Object(a["p"])(" Add 用例 ");function me(e,t,n,c,r,u){var l=Object(a["U"])("MyCodemirror"),o=Object(a["U"])("a-tab-pane"),i=Object(a["U"])("a-spin"),s=Object(a["U"])("a-select"),d=Object(a["U"])("router-link"),b=Object(a["U"])("a-select-option"),f=Object(a["U"])("a-input"),O=Object(a["U"])("a-form-item"),j=Object(a["U"])("a-checkbox"),p=Object(a["U"])("MinusCircleOutlined"),h=Object(a["U"])("MenuOutlined"),m=Object(a["U"])("a-space"),v=Object(a["U"])("VueDraggableNext"),y=Object(a["U"])("PlusOutlined"),g=Object(a["U"])("a-button"),_=Object(a["U"])("a-form"),q=Object(a["U"])("a-tabs");return Object(a["K"])(),Object(a["k"])(q,{value:c.association,onChange:t[2]||(t[2]=function(t){return e.$emit("update:associations",t.target.value)})},{default:Object(a["hb"])((function(){return[Object(a["q"])(o,{key:"1",tab:"code"},{default:Object(a["hb"])((function(){return[Object(a["q"])(l,{value:c.association.code,"onUpdate:value":t[0]||(t[0]=function(e){return c.association.code=e}),style:{height:"200px"}},null,8,["value"]),ue]})),_:1}),Object(a["q"])(o,{key:"2",tab:"关联用例","force-render":""},{default:Object(a["hb"])((function(){return[Object(a["q"])(_,{ref:"formRef",name:"dynamic_form_nest_item",model:c.association.relation,onFinish:c.onFinish},{default:Object(a["hb"])((function(){return[Object(a["q"])(v,{modelValue:c.association.relation,"onUpdate:modelValue":t[1]||(t[1]=function(e){return c.association.relation=e})},{default:Object(a["hb"])((function(){return[Object(a["q"])(a["f"],null,{default:Object(a["hb"])((function(){return[(Object(a["K"])(!0),Object(a["m"])(a["b"],null,Object(a["S"])(c.association.relation,(function(t,n){return Object(a["K"])(),Object(a["k"])(m,{key:t.id,style:{display:"flex","margin-bottom":"8px"},align:"baseline"},{default:Object(a["hb"])((function(){return[Object(a["q"])(s,{value:t.case,"onUpdate:value":function(e){return t.case=e},"show-search":"","label-in-value":"",placeholder:"用例名称",style:{width:"300px"},"default-active-first-option":!1,"show-arrow":!1,"filter-option":!1,"not-found-content":null,type:"radio",options:e.data,onSearch:c.fetchUser},Object(a["o"])({_:2},[e.fetching?{name:"notFoundContent",fn:Object(a["hb"])((function(){return[Object(a["q"])(i,{size:"small"})]}))}:void 0]),1032,["value","onUpdate:value","options","onSearch"]),t.case?(Object(a["K"])(),Object(a["k"])(d,{key:0,to:{path:"/apiDetail",query:{id:t.case.value}},target:"_blank"},{default:Object(a["hb"])((function(){return[le]})),_:2},1032,["to"])):Object(a["l"])("",!0),Object(a["q"])(s,{ref_for:!0,ref:"select",value:t.mold,"onUpdate:value":function(e){return t.mold=e},style:{width:"120px"},onFocus:e.focus,placeholder:"提取类型"},{default:Object(a["hb"])((function(){return[Object(a["q"])(b,{value:"response"},{default:Object(a["hb"])((function(){return[oe]})),_:1}),Object(a["q"])(b,{value:"parameter"},{default:Object(a["hb"])((function(){return[ie]})),_:1}),Object(a["q"])(b,{value:"data"},{default:Object(a["hb"])((function(){return[se]})),_:1}),Object(a["q"])(b,{value:"None"},{default:Object(a["hb"])((function(){return[de]})),_:1})]})),_:2},1032,["value","onUpdate:value","onFocus"]),Object(a["q"])(s,{ref_for:!0,ref:"select",value:t.type,"onUpdate:value":function(e){return t.type=e},style:{width:"120px"},onFocus:e.focus,placeholder:"提取方式"},{default:Object(a["hb"])((function(){return[Object(a["q"])(b,{value:"jmespath"},{default:Object(a["hb"])((function(){return[be]})),_:1}),Object(a["q"])(b,{value:"re"},{default:Object(a["hb"])((function(){return[fe]})),_:1}),Object(a["q"])(b,{value:"json"},{default:Object(a["hb"])((function(){return[Oe]})),_:1})]})),_:2},1032,["value","onUpdate:value","onFocus"]),Object(a["q"])(O,{name:["cases",n,"value"],rules:{message:"Missing value"}},{default:Object(a["hb"])((function(){return[Object(a["q"])(f,{value:t.value,"onUpdate:value":function(e){return t.value=e},placeholder:"公式"},null,8,["value","onUpdate:value"])]})),_:2},1032,["name"]),Object(a["q"])(O,{name:["cases",n,"name"],rules:{message:"Missing  name"}},{default:Object(a["hb"])((function(){return[Object(a["q"])(f,{value:t.name,"onUpdate:value":function(e){return t.name=e},placeholder:"变量名称"},null,8,["value","onUpdate:value"])]})),_:2},1032,["name"]),Object(a["q"])(O,null,{default:Object(a["hb"])((function(){return[Object(a["q"])(j,{checked:t.runRelation,"onUpdate:checked":function(e){return t.runRelation=e}},{default:Object(a["hb"])((function(){return[je]})),_:2},1032,["checked","onUpdate:checked"])]})),_:2},1024),Object(a["q"])(O,null,{default:Object(a["hb"])((function(){return[Object(a["q"])(j,{checked:t.runTeardown,"onUpdate:checked":function(e){return t.runTeardown=e}},{default:Object(a["hb"])((function(){return[pe]})),_:2},1032,["checked","onUpdate:checked"])]})),_:2},1024),Object(a["q"])(p,{onClick:function(e){return c.removeCases(t)}},null,8,["onClick"]),Object(a["q"])(h)]})),_:2},1024)})),128))]})),_:1})]})),_:1},8,["modelValue"]),Object(a["q"])(O,null,{default:Object(a["hb"])((function(){return[Object(a["q"])(g,{type:"dashed",block:"",onClick:c.addCase},{default:Object(a["hb"])((function(){return[Object(a["q"])(y),he]})),_:1},8,["onClick"])]})),_:1})]})),_:1},8,["model","onFinish"])]})),_:1})]})),_:1},8,["value"])}n("d81d");var ve=n("2778"),ye=n("85b1"),ge=n("166b"),_e=n("7d42"),qe={name:"associatedCases",props:{associations:{code:String,relation:[]}},emits:["update:associations"],components:{MyCodemirror:ve["a"],MinusCircleOutlined:te["a"],PlusOutlined:ne["a"],VueDraggableNext:_e["a"],MenuOutlined:ge["a"]},setup:function(e){var t=Object(a["O"])({cases:[]}),n=function(e){console.log("Received values of form:",e),console.log("dynamicValidateForm.users:",t.cases)},c=Object(a["bb"])(e),r=c.associations.value;console.log(r);var u=function(){r.relation.push({mold:"response",value:"",name:"",runRelation:!1,runTeardown:!1})},l=0,o=Object(a["O"])({data:[],value:[],fetching:!1}),i=Object(ye["a"])((function(e){l+=1;var t=l;o.data=[],o.fetching=!0,Object(ae["d"])({name:e}).then((function(e){t===l&&(o.data=e.data.map((function(e){return{label:e.name+"-"+e.project__name+"-"+e.module,value:e.id,project:e.project}})),o.fetching=!1)})),Object(a["fb"])(o.value,(function(){o.data=[],o.fetching=!1}))}),100),s=function(e){var t=r.relation.indexOf(e);-1!==t&&r.relation.splice(t,1)};return Object(X["a"])(Object(X["a"])({association:r,onFinish:n,addCase:u,fetchUser:i},Object(a["bb"])(o)),{},{removeCases:s})}},Ue=n("6b0d"),xe=n.n(Ue);const we=xe()(qe,[["render",me]]);var ke=we,Re=n("3835");n("99af"),n("a15b"),n("4fad");function Ce(e){var t="curl ";"POST"!=e.method&&"GET"!=e.method&&(t+="-X ".concat(e.method," "));var n=e.parameter?"".concat(e.url,"?").concat(Object.entries(JSON.parse(e.parameter)).map((function(e){var t=Object(Re["a"])(e,2),n=t[0],a=t[1];return"".concat(n,"=").concat(a)})).join("&")):e.url;if(t+=n,e.header)for(var a=JSON.parse(e.header),c=0,r=Object.entries(a);c<r.length;c++){var u=Object(Re["a"])(r[c],2),l=u[0],o=u[1];t+=" -H '".concat(l,": ").concat(o,"'")}return e.data&&(t+=" --data-raw '".concat(e.data,"'")),t+=" --compressed",t}var Ke=W["a"].useForm,Se=Object(a["r"])({components:{MinusCircleOutlined:te["a"],PlusOutlined:ne["a"],associatedCases:ke},setup:function(){var e=Object(a["O"])({cases:[]}),t=Object(Z["d"])(),n=Object(Z["d"])().currentRoute.value.query;void 0!=Object(Z["d"])().currentRoute.value.query.id&&Object(ae["d"])(Object(Z["d"])().currentRoute.value.query).then((function(e){c.name=e.data[0].name,c.project=e.data[0].project,c.url=e.data[0].url,c.method=e.data[0].method,c.module=e.data[0].module,c.parameter=e.data[0].parameter,c.id=e.data[0].id,c.setup=e.data[0].setup,c.describe=e.data[0].describe,c.teardown=e.data[0].teardown,c.header=JSON.stringify(JSON.parse(e.data[0].header),null,2);var t=e.data[0].data;t.includes("{")?c.data=JSON.stringify(JSON.parse(t),null,2):c.data=e.data[0].data,null!=e.data[0].asserts&&(c.asserts=e.data[0].asserts)}));var c=Object(a["O"])({name:"",project:"",url:"",method:[],header:"",parameter:"",data:"",asserts:[],id:"",response:"",setup:{code:"",relation:[]},teardown:{code:"",relation:[]},env:"0",result:"",relation:"",run_time:"",status:status,describe:""}),r=Object(a["O"])({name:[{required:!0,message:"Please input name"}],method:[{required:!0,message:"Please select method",method:"array"}],module:[{required:!0,message:"Please input module"}],url:[{required:!0,message:"Please input url"}],header:[{required:!0,message:"Please input header"}],parameter:[{required:!0,message:"Please input parameter"}],data:[{required:!0,message:"Please input data"}],asserts:[{required:!0,message:"Please input asserts"}]}),u=Ke(c,r),l=u.resetFields,o=u.validateInfos,i=u.mergeValidateInfo,s=function(){var a;c.relation=e.cases,delete c["response"],delete c["env"],delete c["result"],delete c["run_time"],delete c["status"],a=void 0==n.id?"post":"put",Object(ae["a"])(c,a).then((function(e){ee["a"].success({content:e.msg,duration:5}),200==e.code&&t.push({path:"api",query:{project_id:n.project_id}})}))},d=function(){c.relation=e.cases,y.value=!1,Object(re["a"])(c).then((function(e){if(200==e.code){ee["a"].success({content:e.msg,duration:5});try{e.data.response.includes("{")?c.response=JSON.stringify(JSON.parse(e.data.response),null,2):c.response=e.data.response}catch(t){c.response=e.data}c.result=JSON.stringify(e.data.result,null,2),c.run_time=e.data.request_data.run_time,c.status=e.data.status_code,y.value=!0}else ee["a"].error({content:e.data,duration:5}),c.response=e.data,y.value=!0}))},b=Object(a["i"])((function(){return i(Object($["a"])(o))})),f=Object(a["O"])({data:[],value:[],fetching:!1}),O=Object(a["Q"])(),j=function(t){var n=e.cases.indexOf(t);-1!==n&&e.cases.splice(n,1)},p=function(){e.cases.push({mold:"None",value:"",name:"",runRelation:!1,runTeardown:!1})},h=function(e){console.log("Received values of form:",e)},m=function(e){var t=c.asserts.indexOf(e);-1!==t&&c.asserts.splice(t,1)},v=function(){c.asserts.push({value:"",mold:"response"})},y=Object(a["Q"])(!0),g=Object(a["Q"])([{value:"0",label:"开发环境"},{value:"1",label:"测试环境"},{value:"2",label:"线上环境"}]),_=function(){console.log("focus")},q=function(e){console.log("selected ".concat(e))},U=Object(a["Q"])([]);Object(ce["c"])().then((function(e){for(var t=0;t<e.data.length;t++)U.value.push({value:e.data[t].id,label:e.data[t].name}),n.project_id==e.data[t].id&&(c.project=e.data[t].id)}));var x=function(){var e=Ce(c);navigator.clipboard.writeText(e)};return Object(X["a"])(Object(X["a"])({copyButton:x,addAssert:v,removeAssert:m,labelCol:{span:4},wrapperCol:{span:14},validateInfos:o,resetFields:l,modelRef:c,onSubmit:s,errorInfos:b,debug:d,activeKey:Object(a["Q"])("1"),formRef:O,dynamicValidateForm:e,onFinish:h,removeUser:j,addUser:p},Object(a["bb"])(f)),{},{checked:Object(a["Q"])(!1),focus:_,handleChange:q,options1:g,optionsProject:U,project:n,resp_loading:y})}});n("f8b6");const Fe=xe()(Se,[["render",Y],["__scopeId","data-v-2c0de63e"]]);t["default"]=Fe},a15b:function(e,t,n){"use strict";var a=n("23e7"),c=n("e330"),r=n("44ad"),u=n("fc6a"),l=n("a640"),o=c([].join),i=r!=Object,s=l("join",",");a({target:"Array",proto:!0,forced:i||!s},{join:function(e){return o(u(this),void 0===e?",":e)}})},a434:function(e,t,n){"use strict";var a=n("23e7"),c=n("da84"),r=n("23cb"),u=n("5926"),l=n("07fa"),o=n("7b0b"),i=n("65f0"),s=n("8418"),d=n("1dde"),b=d("splice"),f=c.TypeError,O=Math.max,j=Math.min,p=9007199254740991,h="Maximum allowed length exceeded";a({target:"Array",proto:!0,forced:!b},{splice:function(e,t){var n,a,c,d,b,m,v=o(this),y=l(v),g=r(e,y),_=arguments.length;if(0===_?n=a=0:1===_?(n=0,a=y-g):(n=_-2,a=j(O(u(t),0),y-g)),y+n-a>p)throw f(h);for(c=i(v,a),d=0;d<a;d++)b=g+d,b in v&&s(c,d,v[b]);if(c.length=a,n<a){for(d=g;d<y-a;d++)b=d+a,m=d+n,b in v?v[m]=v[b]:delete v[m];for(d=y;d>y-a+n;d--)delete v[d-1]}else if(n>a)for(d=y-a;d>g;d--)b=d+a-1,m=d+n-1,b in v?v[m]=v[b]:delete v[m];for(d=0;d<n;d++)v[d+g]=arguments[d+2];return v.length=y-a+n,c}})},ab13:function(e,t,n){var a=n("b622"),c=a("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[c]=!1,"/./"[e](t)}catch(a){}}return!1}},af76:function(e,t,n){},c881:function(e,t,n){"use strict";n("88d4")},caad:function(e,t,n){"use strict";var a=n("23e7"),c=n("4d64").includes,r=n("44d2");a({target:"Array",proto:!0},{includes:function(e){return c(this,e,arguments.length>1?arguments[1]:void 0)}}),r("includes")},d548:function(e,t,n){"use strict";n.r(t);n("b0c0");var a=n("7a23"),c=function(e){return Object(a["N"])("data-v-1f55a329"),e=e(),Object(a["L"])(),e},r={class:"Breadcrumb",style:{"text-align":"left",height:"30px"}},u=c((function(){return Object(a["n"])("a",null,"用例列表",-1)})),l=Object(a["p"])("用例详情"),o={class:"describe",style:{float:"right",width:"40%"}},i=Object(a["p"])("全局变量管理"),s={class:"name",style:{right:"50%"}},d=c((function(){return Object(a["n"])("br",null,null,-1)})),b=c((function(){return Object(a["n"])("br",null,null,-1)})),f={class:"type",style:{right:"50%",width:"300px",float:"left",height:"32px"}},O=c((function(){return Object(a["n"])("br",null,null,-1)})),j=c((function(){return Object(a["n"])("br",null,null,-1)})),p={class:"project",style:{width:"600px"}},h={class:"selectEnv",style:{float:"left"}},m={class:"module",style:{right:"50%",width:"300px"}},v=c((function(){return Object(a["n"])("span",null," 步骤 ",-1)})),y=c((function(){return Object(a["n"])("span",null," 数据 ",-1)})),g=c((function(){return Object(a["n"])("span",null," 测试报告 ",-1)}));function _(e,t,n,c,_,q){var U=Object(a["U"])("router-link"),x=Object(a["U"])("a-breadcrumb-item"),w=Object(a["U"])("a-breadcrumb"),k=Object(a["U"])("a-textarea"),R=Object(a["U"])("a-collapse-panel"),C=Object(a["U"])("a-collapse"),K=Object(a["U"])("a-input"),S=Object(a["U"])("a-form-item"),F=Object(a["U"])("a-select"),P=Object(a["U"])("addApi"),N=Object(a["U"])("a-tab-pane"),M=Object(a["U"])("a-tabs"),Q=Object(a["U"])("a-form");return Object(a["K"])(),Object(a["m"])(a["b"],null,[Object(a["n"])("div",r,[Object(a["q"])(w,null,{default:Object(a["hb"])((function(){return[Object(a["q"])(x,null,{default:Object(a["hb"])((function(){return[Object(a["q"])(U,{to:{path:"/case",query:{project_id:e.project.project_id}}},{default:Object(a["hb"])((function(){return[u]})),_:1},8,["to"])]})),_:1}),Object(a["q"])(x,null,{default:Object(a["hb"])((function(){return[l]})),_:1})]})),_:1})]),Object(a["n"])("div",null,[Object(a["n"])("div",null,[Object(a["n"])("div",o,[Object(a["q"])(C,{ghost:""},{default:Object(a["hb"])((function(){return[Object(a["q"])(R,{key:"1",header:"描述"},{default:Object(a["hb"])((function(){return[Object(a["q"])(k,{value:e.modelRef.describe,"onUpdate:value":t[0]||(t[0]=function(t){return e.modelRef.describe=t}),placeholder:"请添加",rows:4},null,8,["value"])]})),_:1}),Object(a["q"])(U,{to:{path:"/variate_list",query:{project:e.modelRef.project}},target:"_blank"},{default:Object(a["hb"])((function(){return[i]})),_:1},8,["to"])]})),_:1})]),Object(a["n"])("div",s,[Object(a["q"])(S,{label:"用例名称："},{default:Object(a["hb"])((function(){return[Object(a["q"])(K,{value:e.modelRef.name,"onUpdate:value":t[1]||(t[1]=function(t){return e.modelRef.name=t}),placeholder:"用例标题",style:{right:"20%",width:"50%"}},null,8,["value"]),d,b]})),_:1})]),Object(a["n"])("div",f,[Object(a["q"])(S,{label:"环境："},{default:Object(a["hb"])((function(){return[Object(a["q"])(F,{ref:"select",value:e.modelRef.env,"onUpdate:value":t[2]||(t[2]=function(t){return e.modelRef.env=t}),style:{width:"120px"},options:e.options1,onFocus:e.focus,onChange:e.handleChange},null,8,["value","options","onFocus","onChange"]),O,j]})),_:1})]),Object(a["n"])("div",p,[Object(a["q"])(S,{label:"项目："},{default:Object(a["hb"])((function(){return[Object(a["n"])("div",h,[Object(a["q"])(F,{ref:"select",value:e.modelRef.project,"onUpdate:value":t[3]||(t[3]=function(t){return e.modelRef.project=t}),style:{width:"120px"},options:e.optionsProject,onFocus:e.focus,onChange:e.handleChange},null,8,["value","options","onFocus","onChange"])])]})),_:1})]),Object(a["n"])("div",m,[Object(a["q"])(S,{label:"模块："},{default:Object(a["hb"])((function(){return[Object(a["q"])(K,{value:e.modelRef.module,"onUpdate:value":t[4]||(t[4]=function(t){return e.modelRef.module=t}),placeholder:"模块",style:{right:"20%",width:"50%"}},null,8,["value"])]})),_:1})])]),Object(a["q"])(Q,{"label-col":e.labelCol,"wrapper-col":e.wrapperCol},{default:Object(a["hb"])((function(){return[Object(a["q"])(M,{activeKey:e.activeKey,"onUpdate:activeKey":t[7]||(t[7]=function(t){return e.activeKey=t})},{default:Object(a["hb"])((function(){return[Object(a["q"])(N,{key:"1"},{tab:Object(a["hb"])((function(){return[v]})),default:Object(a["hb"])((function(){return[Object(a["q"])(P)]})),_:1}),Object(a["q"])(N,{key:"2"},{tab:Object(a["hb"])((function(){return[y]})),default:Object(a["hb"])((function(){return[Object(a["q"])(k,{value:e.modelRef.parameter,"onUpdate:value":t[5]||(t[5]=function(t){return e.modelRef.parameter=t}),style:{"margin-top":"0px","margin-bottom":"0px",height:"150px"}},null,8,["value"])]})),_:1}),Object(a["q"])(N,{key:"3"},{tab:Object(a["hb"])((function(){return[g]})),default:Object(a["hb"])((function(){return[Object(a["q"])(k,{value:e.modelRef.data,"onUpdate:value":t[6]||(t[6]=function(t){return e.modelRef.data=t}),style:{"margin-top":"0px","margin-bottom":"0px",height:"460px"}},null,8,["value"])]})),_:1})]})),_:1},8,["activeKey"])]})),_:1},8,["label-col","wrapper-col"])])],64)}var q=n("5530"),U=(n("caad"),n("2532"),n("e9c4"),n("a434"),n("5a04")),x=n("3af3"),w=n("6c02"),k=n("f64c"),R=n("58ef"),C=n("24d2"),K=n("08c8"),S=Object(a["p"])("添加接口 "),F=["onClick"],P=["onClick"],N={style:{height:"300px"}},M=Object(a["p"])("response"),Q=Object(a["p"])("parameter"),T=Object(a["p"])("data"),I=Object(a["p"])("无"),E=Object(a["p"])("jmespath"),J=Object(a["p"])("正则"),V=Object(a["p"])("json提取"),A=Object(a["p"])(" 添加变量 "),z=Object(a["p"])("Cancel"),D=Object(a["p"])("Submit"),B={class:"SearchCases",style:{"margin-bottom":"10px"}},H={class:"selectEnv",style:{float:"left"}},L=Object(a["p"])("Search "),G=Object(a["p"])("Clear ");function Y(e,t,n,c,r,u){var l=Object(a["U"])("a-button"),o=Object(a["U"])("router-link"),i=Object(a["U"])("a-table"),s=Object(a["U"])("a-textarea"),d=Object(a["U"])("a-tab-pane"),b=Object(a["U"])("a-select-option"),f=Object(a["U"])("a-select"),O=Object(a["U"])("a-input"),j=Object(a["U"])("a-form-item"),p=Object(a["U"])("MinusCircleOutlined"),h=Object(a["U"])("a-space"),m=Object(a["U"])("PlusOutlined"),v=Object(a["U"])("a-form"),y=Object(a["U"])("a-tabs"),g=Object(a["U"])("a-modal"),_=Object(a["U"])("a-row"),q=Object(a["U"])("a-col"),U=Object(a["U"])("a-drawer");return Object(a["K"])(),Object(a["m"])("div",null,[Object(a["q"])(l,{type:"primary",onClick:t[0]||(t[0]=function(t){return e.showDrawer("large")})},{default:Object(a["hb"])((function(){return[S]})),_:1}),Object(a["q"])(i,{dataSource:e.modelRef.case_list,columns:e.columns,pagination:!1},{bodyCell:Object(a["hb"])((function(t){var n=t.record,c=t.column,r=t.text;return["name"===c.dataIndex?(Object(a["K"])(),Object(a["k"])(o,{key:0,to:{path:"/debug",query:{id:n.id}}},{default:Object(a["hb"])((function(){return[Object(a["n"])("a",null,Object(a["Y"])(r),1)]})),_:2},1032,["to"])):Object(a["l"])("",!0),"operation"===c.dataIndex?(Object(a["K"])(),Object(a["m"])(a["b"],{key:1},[Object(a["n"])("a",{onClick:function(t){return e.deletes(n)}},"Delete",8,F),Object(a["n"])("a",{onClick:function(t){return e.showModal(n)},type:"primary"}," | 编辑",8,P)],64)):Object(a["l"])("",!0)]})),_:1},8,["dataSource","columns"]),Object(a["n"])("div",null,[Object(a["q"])(g,{"wrap-class-name":"full-modal",visible:e.visible2.state,"onUpdate:visible":t[6]||(t[6]=function(t){return e.visible2.state=t}),title:e.detail.name,onOk:t[7]||(t[7]=function(t){return e.handleOk2(e.record)})},{default:Object(a["hb"])((function(){return[Object(a["q"])(y,{activeKey:e.activeKey,"onUpdate:activeKey":t[5]||(t[5]=function(t){return e.activeKey=t}),style:{padding:"4px"}},{default:Object(a["hb"])((function(){return[Object(a["q"])(d,{key:"1",tab:"data"},{default:Object(a["hb"])((function(){return[Object(a["q"])(s,{value:e.detail.data,"onUpdate:value":t[1]||(t[1]=function(t){return e.detail.data=t}),style:{"margin-top":"0px","margin-bottom":"0px",height:"300px"}},null,8,["value"])]})),_:1}),Object(a["q"])(d,{key:"2",tab:"header","force-render":""},{default:Object(a["hb"])((function(){return[Object(a["q"])(s,{value:e.detail.header,"onUpdate:value":t[2]||(t[2]=function(t){return e.detail.header=t}),style:{"margin-top":"0px","margin-bottom":"0px",height:"300px"}},null,8,["value"])]})),_:1}),Object(a["q"])(d,{key:"3",tab:"parameter"},{default:Object(a["hb"])((function(){return[Object(a["q"])(s,{value:e.detail.parameter,"onUpdate:value":t[3]||(t[3]=function(t){return e.detail.parameter=t}),style:{"margin-top":"0px","margin-bottom":"0px",height:"300px"}},null,8,["value"])]})),_:1}),Object(a["q"])(d,{key:"4",tab:"变量提取"},{default:Object(a["hb"])((function(){return[Object(a["n"])("div",N,[Object(a["q"])(v,{ref:"formRef",name:"dynamic_form_nest_item",model:e.modelRef.case_list,onFinish:e.onFinish},{default:Object(a["hb"])((function(){return[(Object(a["K"])(!0),Object(a["m"])(a["b"],null,Object(a["S"])(e.detail.variable,(function(t,n){return Object(a["K"])(),Object(a["k"])(h,{key:t.id,style:{display:"flex","margin-bottom":"8px"},align:"baseline"},{default:Object(a["hb"])((function(){return[Object(a["q"])(f,{ref_for:!0,ref:"select",value:t.mold,"onUpdate:value":function(e){return t.mold=e},style:{width:"100px"},onFocus:e.focus,placeholder:"提取类型"},{default:Object(a["hb"])((function(){return[Object(a["q"])(b,{value:"response"},{default:Object(a["hb"])((function(){return[M]})),_:1}),Object(a["q"])(b,{value:"parameter"},{default:Object(a["hb"])((function(){return[Q]})),_:1}),Object(a["q"])(b,{value:"data"},{default:Object(a["hb"])((function(){return[T]})),_:1}),Object(a["q"])(b,{value:"None"},{default:Object(a["hb"])((function(){return[I]})),_:1})]})),_:2},1032,["value","onUpdate:value","onFocus"]),Object(a["q"])(f,{ref_for:!0,ref:"select",value:t.type,"onUpdate:value":function(e){return t.type=e},style:{width:"100px"},onFocus:e.focus,placeholder:"提取方式"},{default:Object(a["hb"])((function(){return[Object(a["q"])(b,{value:"jmespath"},{default:Object(a["hb"])((function(){return[E]})),_:1}),Object(a["q"])(b,{value:"re"},{default:Object(a["hb"])((function(){return[J]})),_:1}),Object(a["q"])(b,{value:"json"},{default:Object(a["hb"])((function(){return[V]})),_:1})]})),_:2},1032,["value","onUpdate:value","onFocus"]),Object(a["q"])(j,{name:["cases",n,"value"],rules:{message:"Missing value"}},{default:Object(a["hb"])((function(){return[Object(a["q"])(O,{value:t.value,"onUpdate:value":function(e){return t.value=e},placeholder:"公式"},null,8,["value","onUpdate:value"])]})),_:2},1032,["name"]),Object(a["q"])(j,{name:["cases",n,"name"],rules:{message:"Missing  name"}},{default:Object(a["hb"])((function(){return[Object(a["q"])(O,{value:t.name,"onUpdate:value":function(e){return t.name=e},placeholder:"变量名称"},null,8,["value","onUpdate:value"])]})),_:2},1032,["name"]),Object(a["q"])(p,{onClick:function(n){return e.removeVariable(e.detail.variable,t)}},null,8,["onClick"])]})),_:2},1024)})),128)),Object(a["q"])(j,null,{default:Object(a["hb"])((function(){return[Object(a["q"])(l,{type:"dashed",block:"",onClick:t[4]||(t[4]=function(t){return e.addVariable(e.detail)})},{default:Object(a["hb"])((function(){return[Object(a["q"])(m),A]})),_:1})]})),_:1})]})),_:1},8,["model","onFinish"])])]})),_:1})]})),_:1},8,["activeKey"])]})),_:1},8,["visible","title"])]),Object(a["q"])(U,{title:"Basic Drawer",size:e.size,visible:e.visible,onClose:e.onClose},{extra:Object(a["hb"])((function(){return[Object(a["q"])(l,{style:{"margin-right":"8px"},onClick:e.Close},{default:Object(a["hb"])((function(){return[z]})),_:1},8,["onClick"]),Object(a["q"])(l,{type:"primary",onClick:e.onClose},{default:Object(a["hb"])((function(){return[D]})),_:1},8,["onClick"])]})),default:Object(a["hb"])((function(){return[Object(a["n"])("div",null,[Object(a["n"])("div",B,[Object(a["q"])(v,{ref:"formRef",name:"advanced_search",class:"ant-advanced-search-form",model:e.formState,onFinish:e.onFinish},{default:Object(a["hb"])((function(){return[Object(a["q"])(_,{gutter:24,style:{float:"left",height:"32px"}},{default:Object(a["hb"])((function(){return[Object(a["q"])(j,{name:"name",label:"name",rules:[{message:"input something"}]},{default:Object(a["hb"])((function(){return[Object(a["q"])(O,{value:e.formState["name"],"onUpdate:value":t[8]||(t[8]=function(t){return e.formState["name"]=t}),placeholder:"placeholder"},null,8,["value"])]})),_:1}),Object(a["q"])(j,{label:"project"},{default:Object(a["hb"])((function(){return[Object(a["n"])("div",H,[Object(a["q"])(f,{ref:"select",value:e.formState["project_id"],"onUpdate:value":t[9]||(t[9]=function(t){return e.formState["project_id"]=t}),style:{width:"120px"},options:e.optionsProject},null,8,["value","options"])])]})),_:1})]})),_:1}),Object(a["q"])(_,null,{default:Object(a["hb"])((function(){return[Object(a["q"])(q,{span:24,style:{"text-align":"right"}},{default:Object(a["hb"])((function(){return[Object(a["q"])(l,{type:"primary","html-type":"submit"},{default:Object(a["hb"])((function(){return[L]})),_:1}),Object(a["q"])(l,{style:{margin:"0 8px"},onClick:t[10]||(t[10]=function(){return e.formRef.resetFields()})},{default:Object(a["hb"])((function(){return[G]})),_:1})]})),_:1})]})),_:1})]})),_:1},8,["model","onFinish"])]),Object(a["q"])(i,{"row-selection":{selectedRowKeys:e.selectedRowKeys,onChange:e.onSelectChange,getCheckboxProps:e.getCheckboxProps},"row-key":function(e){return e.id},columns:e.columns,"data-source":e.data,pagination:!1},null,8,["row-selection","row-key","columns","data-source"])])]})),_:1},8,["size","visible","onClose"])])}var X=n("2909"),$=(n("4de4"),n("d3b7"),n("8fc6")),W=n("47ce"),Z=[{title:"Name",dataIndex:"name"},{title:"project",dataIndex:"project__name"},{title:"module",dataIndex:"module"},{title:"操作",dataIndex:"operation"}],ee=Object(a["r"])({components:{MinusCircleOutlined:$["a"],PlusOutlined:W["a"]},props:{case_list:Object},setup:function(e){var t=Object(a["Q"])(),n=Object(a["O"])({name:"",describe:"",project_id:"",case_list:e.case_list,email:""}),c=Object(a["O"])({cases_count:0,cases_false:0}),r=Object(a["O"])({name:"",id:"",data:"",header:"",parameter:"",variable:""}),u=Object(a["Q"])(!1),l=Object(a["Q"])("default"),o=function(e){l.value=e,u.value=!0,Object(R["d"])(h).then((function(e){t.value=e.data,console.log(f.selectedRowKeys)}))},i=function(){u.value=!1},s=function(){if(j.selectedRowKeys=f.selectedRowKeys,n.case_list.length>0){var e,t=Object(X["a"])(j.selectedRows).filter((function(e){return Object(X["a"])(n.case_list).every((function(t){return t.id!==e.id}))}));(e=n.case_list).push.apply(e,Object(X["a"])(t)),console.log(n.case_list)}else{var a;(a=n.case_list).push.apply(a,Object(X["a"])(j.selectedRows))}u.value=!1},d=Object(a["Q"])(),b=function(e){console.log("Received values of form:",e),console.log("modelRef.case_list",f.selectedRowKeys,n.case_list),Object(R["d"])(h).then((function(e){t.value=e.data,m.value=e.total}))},f=Object(a["O"])({selectedRowKeys:[],loading:!1}),O=Object(a["i"])((function(){return f.selectedRowKeys.length>0})),j=Object(a["O"])({selectedRowKeys:[],selectedRows:[]}),p=function(e,t){f.selectedRowKeys=e,j.selectedRows=t},h=Object(a["O"])({}),m=Object(a["Q"])(),v=function(e){h["current"]=e.current,Object(R["d"])(h).then((function(e){t.value=e.data,m.value=e.total}))},y=Object(a["Q"])([{value:"0",label:"开发环境"},{value:"1",label:"测试环境"},{value:"2",label:"线上环境"}]),g=function(){console.log("focus")},_=function(e){console.log("selected ".concat(e))},U=Object(w["d"])().currentRoute.value.query,x=Object(a["Q"])([]);Object(C["c"])().then((function(e){for(var t=0;t<e.data.length;t++)x.value.push({value:e.data[t].id,label:e.data[t].name}),U.project_id==e.data[t].id&&(n.project_id=e.data[t].id);console.log(x.value)}));var k=function(e){var t=n.case_list.indexOf(e);n.case_list.splice(t,1);var a=f.selectedRowKeys.indexOf(e.id);delete f.selectedRowKeys[a],console.log(t)},K=function(e){return{disabled:j.selectedRowKeys.includes(e.id)}},S=Object(a["Q"])({record:"",state:!1}),F=function(e){S.value.state=!0,S.value.record=e,r.id=e.id,r.name=e.name,r.header=e.header,r.data=e.data,r.parameter=e.parameter,r.variable=e.variable,r.project__name=e.project__name,r.module=e.module},P=function(){var e=n.case_list.indexOf(S.value.record);n.case_list[e]=r,S.value.state=!1},N=function(e,t){var n=e.indexOf(t);-1!==n&&e.splice(n,1)},M=function(e){null==(e.variable||null)&&(e["variable"]=[]),e.variable.push({mold:"response",value:"",name:"",runRelation:!1,runTeardown:!1})};return Object(q["a"])(Object(q["a"])({formState:h,data:t,columns:Z,activeKey:Object(a["Q"])("1"),labelCol:{span:4},wrapperCol:{span:14},modelRef:n,value1:Object(a["Q"])(),visible:u,size:l,showDrawer:o,onClose:s,formRef:d,onFinish:b,Close:i,count:c,hasSelected:O},Object(a["bb"])(f)),{},{onSelectChange:p,total:m,onChange:v,focus:g,handleChange:_,options1:y,optionsProject:x,deletes:k,getCheckboxProps:K,visible2:S,showModal:F,handleOk2:P,removeVariable:N,addVariable:M,detail:r})}}),te=(n("1670"),n("6b0d")),ne=n.n(te);const ae=ne()(ee,[["render",Y]]);var ce=ae,re=x["a"].useForm,ue=Object(a["r"])({components:{addApi:ce},setup:function(){var e=Object(a["O"])({cases:[]}),t=Object(w["d"])(),n=Object(w["d"])().currentRoute.value.query;void 0!=Object(w["d"])().currentRoute.value.query.id&&Object(R["d"])(Object(w["d"])().currentRoute.value.query).then((function(e){c.name=e.data[0].name,c.project=e.data[0].project,c.url=e.data[0].url,c.method=e.data[0].method,c.module=e.data[0].module,c.parameter=e.data[0].parameter,c.id=e.data[0].id,c.setup=e.data[0].setup,c.describe=e.data[0].describe,c.teardown=e.data[0].teardown,c.header=e.data[0].header;var t=e.data[0].data;t.includes("{")?c.data=JSON.stringify(JSON.parse(t),null,2):c.data=e.data[0].data,null!=e.data[0].asserts&&(c.asserts=e.data[0].asserts)}));var c=Object(a["O"])({name:"",project:"",url:"",method:[],header:"",parameter:"",data:"",asserts:[],id:"",response:"",setup:{code:"",relation:[]},teardown:{code:"",relation:[]},env:"0",result:"",relation:"",run_time:"",status:status,describe:""}),r=Object(a["O"])({name:[{required:!0,message:"Please input name"}],method:[{required:!0,message:"Please select method",method:"array"}],module:[{required:!0,message:"Please input module"}],url:[{required:!0,message:"Please input url"}],header:[{required:!0,message:"Please input header"}],parameter:[{required:!0,message:"Please input parameter"}],data:[{required:!0,message:"Please input data"}],asserts:[{required:!0,message:"Please input asserts"}]}),u=re(c,r),l=u.resetFields,o=u.validateInfos,i=u.mergeValidateInfo,s=function(){var a;c.relation=e.cases,delete c["response"],delete c["env"],delete c["result"],delete c["run_time"],delete c["status"],a=void 0==n.id?"post":"put",Object(R["a"])(c,a).then((function(e){k["a"].success({content:e.msg,duration:5}),200==e.code&&t.push({path:"case",query:{project_id:n.project_id}})}))},d=function(){c.relation=e.cases,Object(K["a"])(c).then((function(e){k["a"].success({content:e.msg,duration:5});try{e.data.response.includes("{")?c.response=JSON.stringify(JSON.parse(e.data.response),null,2):c.response=e.data.response}catch(t){c.response=e.data}c.result=JSON.stringify(e.data.result,null,2),c.run_time=e.data.request_data.run_time,c.status=e.data.status_code}))},b=Object(a["i"])((function(){return i(Object(U["a"])(o))})),f=Object(a["O"])({data:[],value:[],fetching:!1}),O=Object(a["Q"])(),j=function(t){var n=e.cases.indexOf(t);-1!==n&&e.cases.splice(n,1)},p=function(){e.cases.push({mold:"None",value:"",name:"",runRelation:!1,runTeardown:!1})},h=function(t){console.log("Received values of form:",t),console.log("dynamicValidateForm.users:",e.cases)},m=function(e){var t=c.asserts.indexOf(e);-1!==t&&c.asserts.splice(t,1)},v=function(){c.asserts.push({value:"",mold:"response"})},y=Object(a["Q"])([{value:"0",label:"开发环境"},{value:"1",label:"测试环境"},{value:"2",label:"线上环境"}]),g=function(){console.log("focus")},_=function(e){console.log("selected ".concat(e))},x=Object(a["Q"])([]);return Object(C["c"])().then((function(e){for(var t=0;t<e.data.length;t++)x.value.push({value:e.data[t].id,label:e.data[t].name}),n.project_id==e.data[t].id&&(c.project=e.data[t].id);console.log(x.value)})),Object(q["a"])(Object(q["a"])({addAssert:v,removeAssert:m,labelCol:{span:4},wrapperCol:{span:14},validateInfos:o,resetFields:l,modelRef:c,onSubmit:s,errorInfos:b,debug:d,activeKey:Object(a["Q"])("1"),formRef:O,dynamicValidateForm:e,onFinish:h,removeUser:j,addUser:p},Object(a["bb"])(f)),{},{checked:Object(a["Q"])(!1),focus:g,handleChange:_,options1:y,optionsProject:x,project:n})}});n("c881");const le=ne()(ue,[["render",_],["__scopeId","data-v-1f55a329"]]);t["default"]=le},d81d:function(e,t,n){"use strict";var a=n("23e7"),c=n("b727").map,r=n("1dde"),u=r("map");a({target:"Array",proto:!0,forced:!u},{map:function(e){return c(this,e,arguments.length>1?arguments[1]:void 0)}})},f8b6:function(e,t,n){"use strict";n("ff1b")},ff1b:function(e,t,n){}}]);
//# sourceMappingURL=layout.cb63ff52.js.map