(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["login"],{"2c59":function(e,t,n){},b775:function(e,t,n){"use strict";n("d3b7");var o,r=n("bc3a"),a=n.n(r),c=n("56cd"),i=n("6c02");o="dev"==Object({NODE_ENV:"production",BASE_URL:""}).VUE_APP_FLAG?Object({NODE_ENV:"production",BASE_URL:""}).VUE_APP_BASEURL:"https://www.zaojingyoutu.top:8000/api/";var u=a.a.create({baseURL:o,timeout:3e5});u.defaults.headers.post["Content-Type"]="application/json;charset=UTF-8";var l=function(e){if(e.response){var t=e.response.data,n=localStorage.getItem("token");if(403===e.response.status&&(c["a"].error({message:"Forbidden",description:t.message}),window.location.href="#/login"),401===e.response.status&&(!t.result||!t.result.isLogin)){c["a"].error({message:"Unauthorized",description:"Authorization verification failed"}),n&&window.location.reload();var o=Object(i["d"])();o.push("/login")}}return Promise.reject(e)};u.interceptors.request.use((function(e){var t=localStorage.getItem("token");return t&&(e.headers["Authorization"]=t),e}),l),u.interceptors.response.use((function(e){return e.data["status"]=e.status,e.data}),l),t["a"]=u},daf8:function(e,t,n){"use strict";n("2c59")},dc3f:function(e,t,n){"use strict";n.r(t);var o=n("7a23"),r=Object(o["n"])("img",{src:"https://www.yulumi.cn/gl/uploads/allimg/201121/11200I923-1.jpg"},null,-1),a={style:{position:"absolute",right:"40%",width:"400px",border:"3px solid #42b983",padding:"10px",top:"40%",background:"#ffffff",height:"300px"}},c=Object(o["n"])("h2",null,"欢迎来到接口测试平台",-1),i=Object(o["n"])("br",null,null,-1),u={class:"login-form-wrap"},l=Object(o["p"])("Remember me"),s=Object(o["n"])("a",{class:"login-form-forgot",href:""},"Forgot password",-1),b=Object(o["p"])(" Login "),d={style:{}};function f(e,t,n,f,m,p){var O=Object(o["U"])("UserOutlined"),j=Object(o["U"])("a-input"),h=Object(o["U"])("a-form-item"),g=Object(o["U"])("LockOutlined"),v=Object(o["U"])("a-input-password"),w=Object(o["U"])("a-checkbox"),q=Object(o["U"])("a-button"),U=Object(o["U"])("a-form"),k=Object(o["U"])("a-modal");return Object(o["K"])(),Object(o["m"])(o["b"],null,[r,Object(o["n"])("div",a,[c,i,Object(o["q"])(U,{model:e.formState,name:"normal_login",class:"login-form",onFinish:e.onFinish,onFinishFailed:e.onFinishFailed},{default:Object(o["hb"])((function(){return[Object(o["q"])(h,{label:"Username",name:"username",rules:[{required:!0,message:"Please input your username!"}]},{default:Object(o["hb"])((function(){return[Object(o["q"])(j,{value:e.formState.username,"onUpdate:value":t[0]||(t[0]=function(t){return e.formState.username=t})},{prefix:Object(o["hb"])((function(){return[Object(o["q"])(O,{class:"site-form-item-icon"})]})),_:1},8,["value"])]})),_:1}),Object(o["q"])(h,{label:"Password",name:"password",rules:[{required:!0,message:"Please input your password!"}]},{default:Object(o["hb"])((function(){return[Object(o["q"])(v,{value:e.formState.password,"onUpdate:value":t[1]||(t[1]=function(t){return e.formState.password=t})},{prefix:Object(o["hb"])((function(){return[Object(o["q"])(g,{class:"site-form-item-icon"})]})),_:1},8,["value"])]})),_:1}),Object(o["n"])("div",u,[Object(o["q"])(h,{name:"remember","no-style":""},{default:Object(o["hb"])((function(){return[Object(o["q"])(w,{checked:e.formState.remember,"onUpdate:checked":t[2]||(t[2]=function(t){return e.formState.remember=t})},{default:Object(o["hb"])((function(){return[l]})),_:1},8,["checked"])]})),_:1}),s]),Object(o["q"])(h,null,{default:Object(o["hb"])((function(){return[Object(o["q"])(q,{disabled:e.disabled,type:"primary","html-type":"submit",class:"login-form-button",onClick:e.login},{default:Object(o["hb"])((function(){return[b]})),_:1},8,["disabled","onClick"]),Object(o["n"])("div",d,[Object(o["n"])("a",{type:"primary",onClick:t[3]||(t[3]=function(){return e.showModal&&e.showModal.apply(e,arguments)})},"register now!"),Object(o["q"])(k,{visible:e.visible,"onUpdate:visible":t[7]||(t[7]=function(t){return e.visible=t}),title:"register",onOk:e.handleOks},{default:Object(o["hb"])((function(){return[Object(o["n"])("div",null,[Object(o["q"])(U,{"label-col":e.labelCol,"wrapper-col":e.wrapperCol},{default:Object(o["hb"])((function(){return[Object(o["q"])(h,{label:"name",required:""},{default:Object(o["hb"])((function(){return[Object(o["q"])(j,{value:e.modelRef.username,"onUpdate:value":t[4]||(t[4]=function(t){return e.modelRef.username=t})},null,8,["value"])]})),_:1}),Object(o["q"])(h,{label:"email"},{default:Object(o["hb"])((function(){return[Object(o["q"])(j,{value:e.modelRef.email,"onUpdate:value":t[5]||(t[5]=function(t){return e.modelRef.email=t})},null,8,["value"])]})),_:1}),Object(o["q"])(h,{label:"password",required:""},{default:Object(o["hb"])((function(){return[Object(o["q"])(v,{value:e.modelRef.password,"onUpdate:value":t[6]||(t[6]=function(t){return e.modelRef.password=t})},null,8,["value"])]})),_:1})]})),_:1},8,["label-col","wrapper-col"])])]})),_:1},8,["visible","onOk"])])]})),_:1})]})),_:1},8,["model","onFinish","onFinishFailed"])])],64)}var m=n("edc4"),p={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 464h-68V240c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zM332 240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v224H332V240zm460 600H232V536h560v304zM484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 10-56 0z"}}]},name:"lock",theme:"outlined"},O=p,j=n("b3f0");function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},o=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),o.forEach((function(t){g(e,t,n[t])}))}return e}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=function(e,t){var n=h({},e,t.attrs);return o["q"](j["a"],o["y"](n,{icon:O}),null)};v.displayName="LockOutlined",v.inheritAttrs=!1;var w=v,q=n("f64c"),U=n("b775");function k(e){return U["a"].request({method:"post",url:"login/",data:e})}function y(e){return U["a"].request({method:"post",url:"register/",data:e})}var _=n("6c02"),F=Object(o["r"])({components:{UserOutlined:m["a"],LockOutlined:w},setup:function(){var e=Object(_["d"])(),t=Object(o["O"])({username:"",email:"",password:""}),n=Object(o["O"])({username:"",password:"",remember:!0}),r=function(e){console.log("Success:",e)},a=function(e){console.log("Failed:",e)},c=Object(o["i"])((function(){return!(n.username&&n.password)})),i=function(){return k(n).then((function(t){q["a"].success({content:t.msg,duration:5}),console.log(t.data),200==t.code&&(e.push("/project"),localStorage.setItem("token","Bearer "+t.data.access_token))}))},u=Object(o["Q"])(!1),l=function(){u.value=!0},s=function(n){console.log(n),y(t).then((function(t){q["a"].success({content:t.msg,duration:5}),200==t.code&&e.push("//login"),console.log(t)}))},b=function(){q["a"].success({content:"暂未开放！",duration:5})};return{formState:n,onFinish:r,onFinishFailed:a,disabled:c,visible:u,showModal:l,handleOk:s,modelRef:t,handleOks:b,login:i}}}),S=(n("daf8"),n("6b0d")),P=n.n(S);const R=P()(F,[["render",f]]);t["default"]=R}}]);
//# sourceMappingURL=login.97fc0019.js.map