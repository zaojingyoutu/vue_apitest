(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["layout"],{"0677":function(e,t,n){},2532:function(e,t,n){"use strict";var a=n("23e7"),u=n("e330"),c=n("5a34"),r=n("1d80"),l=n("577e"),o=n("ab13"),s=u("".indexOf);a({target:"String",proto:!0,forced:!o("includes")},{includes:function(e){return!!~s(l(r(this)),l(c(e)),arguments.length>1?arguments[1]:void 0)}})},"44e7":function(e,t,n){var a=n("861d"),u=n("c6b6"),c=n("b622"),r=c("match");e.exports=function(e){var t;return a(e)&&(void 0!==(t=e[r])?!!t:"RegExp"==u(e))}},"4d7d":function(e,t,n){"use strict";n("0677")},"5a34":function(e,t,n){var a=n("da84"),u=n("44e7"),c=a.TypeError;e.exports=function(e){if(u(e))throw c("The method doesn't accept regular expressions");return e}},ab13:function(e,t,n){var a=n("b622"),u=a("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[u]=!1,"/./"[e](t)}catch(a){}}return!1}},caad:function(e,t,n){"use strict";var a=n("23e7"),u=n("4d64").includes,c=n("44d2");a({target:"Array",proto:!0},{includes:function(e){return u(this,e,arguments.length>1?arguments[1]:void 0)}}),c("includes")},e5f3:function(e,t,n){"use strict";n.r(t);n("b0c0");var a=n("7a23"),u=function(e){return Object(a["N"])("data-v-3ac09b12"),e=e(),Object(a["L"])(),e},c={class:"Breadcrumb",style:{"text-align":"left",height:"30px"}},r=u((function(){return Object(a["n"])("a",null,"用例列表",-1)})),l=Object(a["p"])("用例详情"),o={class:"describe",style:{float:"right",width:"40%"}},s=Object(a["p"])("全局变量管理"),d={class:"name",style:{right:"50%"}},i=u((function(){return Object(a["n"])("br",null,null,-1)})),b=u((function(){return Object(a["n"])("br",null,null,-1)})),f={class:"type",style:{right:"50%",width:"300px",float:"left",height:"32px"}},j=u((function(){return Object(a["n"])("br",null,null,-1)})),O=u((function(){return Object(a["n"])("br",null,null,-1)})),p={class:"project",style:{width:"600px"}},h={class:"selectEnv",style:{float:"left"}},m={class:"module",style:{right:"50%",width:"300px"}},v={class:"method",style:{float:"left"}},g=Object(a["p"])("POST"),q=Object(a["p"])("GET"),y=Object(a["p"])("PUT"),_=Object(a["p"])("DELETE"),U={class:"url",style:{float:"left",width:"800px"}},R={class:"method",style:{float:"left"}},x=Object(a["p"])("Send"),k={class:"method",style:{float:"left"}},w=Object(a["p"])("save"),C=u((function(){return Object(a["n"])("br",null,null,-1)})),F=u((function(){return Object(a["n"])("br",null,null,-1)})),P=u((function(){return Object(a["n"])("span",null," header ",-1)})),S=u((function(){return Object(a["n"])("span",null," parameter ",-1)})),E=u((function(){return Object(a["n"])("span",null," data ",-1)})),K=u((function(){return Object(a["n"])("span",null," asserts ",-1)})),T=Object(a["p"])("response"),N=Object(a["p"])("响应状态"),J=Object(a["p"])("无"),A=Object(a["p"])(" 添加断言 "),I=u((function(){return Object(a["n"])("span",null," setup ",-1)})),Q=u((function(){return Object(a["n"])("span",null," response ",-1)})),V={style:{float:"right"}},L=u((function(){return Object(a["n"])("span",null," teardown ",-1)})),D=u((function(){return Object(a["n"])("span",null," asserts result ",-1)}));function G(e,t,n,u,G,M){var Y=Object(a["U"])("router-link"),B=Object(a["U"])("a-breadcrumb-item"),z=Object(a["U"])("a-breadcrumb"),H=Object(a["U"])("a-textarea"),W=Object(a["U"])("a-collapse-panel"),X=Object(a["U"])("a-collapse"),Z=Object(a["U"])("a-input"),$=Object(a["U"])("a-form-item"),ee=Object(a["U"])("a-select"),te=Object(a["U"])("a-select-option"),ne=Object(a["U"])("a-button"),ae=Object(a["U"])("a-tab-pane"),ue=Object(a["U"])("MinusCircleOutlined"),ce=Object(a["U"])("a-space"),re=Object(a["U"])("PlusOutlined"),le=Object(a["U"])("a-form"),oe=Object(a["U"])("associatedCases"),se=Object(a["U"])("a-tabs");return Object(a["K"])(),Object(a["m"])(a["b"],null,[Object(a["n"])("div",c,[Object(a["q"])(z,null,{default:Object(a["hb"])((function(){return[Object(a["q"])(B,null,{default:Object(a["hb"])((function(){return[Object(a["q"])(Y,{to:{path:"/case",query:{project_id:e.project.project_id}}},{default:Object(a["hb"])((function(){return[r]})),_:1},8,["to"])]})),_:1}),Object(a["q"])(B,null,{default:Object(a["hb"])((function(){return[l]})),_:1})]})),_:1})]),Object(a["n"])("div",null,[Object(a["n"])("div",null,[Object(a["n"])("div",o,[Object(a["q"])(X,{ghost:""},{default:Object(a["hb"])((function(){return[Object(a["q"])(W,{key:"1",header:"描述"},{default:Object(a["hb"])((function(){return[Object(a["q"])(H,{value:e.modelRef.describe,"onUpdate:value":t[0]||(t[0]=function(t){return e.modelRef.describe=t}),placeholder:"请添加",rows:4},null,8,["value"])]})),_:1}),Object(a["q"])(Y,{to:{path:"/variate_list",query:{project:e.modelRef.project,env:e.modelRef.env}},target:"_blank"},{default:Object(a["hb"])((function(){return[s]})),_:1},8,["to"])]})),_:1})]),Object(a["n"])("div",d,[Object(a["q"])($,{label:"用例名称："},{default:Object(a["hb"])((function(){return[Object(a["q"])(Z,{value:e.modelRef.name,"onUpdate:value":t[1]||(t[1]=function(t){return e.modelRef.name=t}),placeholder:"用例标题",style:{right:"20%",width:"50%"}},null,8,["value"]),i,b]})),_:1})]),Object(a["n"])("div",f,[Object(a["q"])($,{label:"环境："},{default:Object(a["hb"])((function(){return[Object(a["q"])(ee,{ref:"select",value:e.modelRef.env,"onUpdate:value":t[2]||(t[2]=function(t){return e.modelRef.env=t}),style:{width:"120px"},options:e.options1,onFocus:e.focus,onChange:e.handleChange},null,8,["value","options","onFocus","onChange"]),j,O]})),_:1})]),Object(a["n"])("div",p,[Object(a["q"])($,{label:"项目："},{default:Object(a["hb"])((function(){return[Object(a["n"])("div",h,[Object(a["q"])(ee,{ref:"select",value:e.modelRef.project,"onUpdate:value":t[3]||(t[3]=function(t){return e.modelRef.project=t}),style:{width:"120px"},options:e.optionsProject,onFocus:e.focus,onChange:e.handleChange},null,8,["value","options","onFocus","onChange"])])]})),_:1})]),Object(a["n"])("div",m,[Object(a["q"])($,{label:"模块："},{default:Object(a["hb"])((function(){return[Object(a["q"])(Z,{value:e.modelRef.module,"onUpdate:value":t[4]||(t[4]=function(t){return e.modelRef.module=t}),placeholder:"模块",style:{right:"20%",width:"50%"}},null,8,["value"])]})),_:1})])]),Object(a["q"])(le,{"label-col":e.labelCol,"wrapper-col":e.wrapperCol},{default:Object(a["hb"])((function(){return[Object(a["n"])("div",v,[Object(a["q"])(ee,{value:e.modelRef.method,"onUpdate:value":t[5]||(t[5]=function(t){return e.modelRef.method=t}),placeholder:"method"},{default:Object(a["hb"])((function(){return[Object(a["q"])(te,{value:"POST"},{default:Object(a["hb"])((function(){return[g]})),_:1}),Object(a["q"])(te,{value:"GET"},{default:Object(a["hb"])((function(){return[q]})),_:1}),Object(a["q"])(te,{value:"PUT"},{default:Object(a["hb"])((function(){return[y]})),_:1}),Object(a["q"])(te,{value:"DELETE"},{default:Object(a["hb"])((function(){return[_]})),_:1})]})),_:1},8,["value"])]),Object(a["n"])("div",U,[Object(a["q"])(Z,{value:e.modelRef.url,"onUpdate:value":t[6]||(t[6]=function(t){return e.modelRef.url=t}),placeholder:"url"},null,8,["value"])]),Object(a["n"])("div",R,[Object(a["q"])(ne,{onClick:e.debug},{default:Object(a["hb"])((function(){return[x]})),_:1},8,["onClick"])]),Object(a["n"])("div",k,[Object(a["q"])(ne,{type:"primary",onClick:Object(a["jb"])(e.onSubmit,["prevent"])},{default:Object(a["hb"])((function(){return[w]})),_:1},8,["onClick"])]),C,F,Object(a["q"])(se,{activeKey:e.activeKey,"onUpdate:activeKey":t[14]||(t[14]=function(t){return e.activeKey=t})},{default:Object(a["hb"])((function(){return[Object(a["q"])(ae,{key:"1"},{tab:Object(a["hb"])((function(){return[P]})),default:Object(a["hb"])((function(){return[Object(a["q"])(H,{value:e.modelRef.header,"onUpdate:value":t[7]||(t[7]=function(t){return e.modelRef.header=t}),style:{"margin-top":"0px","margin-bottom":"0px",height:"150px"}},null,8,["value"])]})),_:1}),Object(a["q"])(ae,{key:"2"},{tab:Object(a["hb"])((function(){return[S]})),default:Object(a["hb"])((function(){return[Object(a["q"])(H,{value:e.modelRef.parameter,"onUpdate:value":t[8]||(t[8]=function(t){return e.modelRef.parameter=t}),style:{"margin-top":"0px","margin-bottom":"0px",height:"150px"}},null,8,["value"])]})),_:1}),Object(a["q"])(ae,{key:"3"},{tab:Object(a["hb"])((function(){return[E]})),default:Object(a["hb"])((function(){return[Object(a["q"])(H,{value:e.modelRef.data,"onUpdate:value":t[9]||(t[9]=function(t){return e.modelRef.data=t}),style:{"margin-top":"0px","margin-bottom":"0px",height:"460px"}},null,8,["value"])]})),_:1}),Object(a["q"])(ae,{key:"4"},{tab:Object(a["hb"])((function(){return[K]})),default:Object(a["hb"])((function(){return[Object(a["q"])(le,{ref:"formRef",name:"dynamic_form_nest_item",model:e.dynamicValidateForm,onFinish:e.onFinish},{default:Object(a["hb"])((function(){return[(Object(a["K"])(!0),Object(a["m"])(a["b"],null,Object(a["S"])(e.modelRef.asserts,(function(t){return Object(a["K"])(),Object(a["k"])(ce,{key:t.id,style:{display:"flex","margin-bottom":"8px"},align:"baseline"},{default:Object(a["hb"])((function(){return[Object(a["q"])(ee,{ref_for:!0,ref:"select",value:t.mold,"onUpdate:value":function(e){return t.mold=e},style:{width:"120px"},onFocus:e.focus,placeholder:"断言类型"},{default:Object(a["hb"])((function(){return[Object(a["q"])(te,{value:"response"},{default:Object(a["hb"])((function(){return[T]})),_:1}),Object(a["q"])(te,{value:"Status"},{default:Object(a["hb"])((function(){return[N]})),_:1}),Object(a["q"])(te,{value:"None"},{default:Object(a["hb"])((function(){return[J]})),_:1})]})),_:2},1032,["value","onUpdate:value","onFocus"]),Object(a["q"])($,null,{default:Object(a["hb"])((function(){return["response"==t.mold?(Object(a["K"])(),Object(a["k"])(Z,{key:0,value:t.value,"onUpdate:value":function(e){return t.value=e},placeholder:"请填写断言json"},null,8,["value","onUpdate:value"])):(Object(a["K"])(),Object(a["k"])(Z,{key:1,value:t.value,"onUpdate:value":function(e){return t.value=e},placeholder:"请填写响应状态码"},null,8,["value","onUpdate:value"]))]})),_:2},1024),Object(a["q"])(ue,{onClick:function(n){return e.removeAssert(t)}},null,8,["onClick"])]})),_:2},1024)})),128)),Object(a["q"])($,null,{default:Object(a["hb"])((function(){return[Object(a["q"])(ne,{type:"dashed",block:"",onClick:e.addAssert},{default:Object(a["hb"])((function(){return[Object(a["q"])(re),A]})),_:1},8,["onClick"])]})),_:1})]})),_:1},8,["model","onFinish"])]})),_:1}),Object(a["q"])(ae,{key:"5"},{tab:Object(a["hb"])((function(){return[I]})),default:Object(a["hb"])((function(){return[Object(a["q"])(oe,{associations:e.modelRef.setup,"onUpdate:associations":t[10]||(t[10]=function(t){return e.associations=e.modelRef.setup})},null,8,["associations"])]})),_:1}),Object(a["q"])(ae,{key:"6"},{tab:Object(a["hb"])((function(){return[Q]})),default:Object(a["hb"])((function(){return[Object(a["n"])("p",V," 响应状态："+Object(a["Y"])(e.modelRef.status)+" 运行时间："+Object(a["Y"])(e.modelRef.run_time),1),Object(a["q"])(H,{value:e.modelRef.response,"onUpdate:value":t[11]||(t[11]=function(t){return e.modelRef.response=t}),style:{"margin-top":"0px","margin-bottom":"0px",height:"460px"}},null,8,["value"])]})),_:1}),Object(a["q"])(ae,{key:"7"},{tab:Object(a["hb"])((function(){return[L]})),default:Object(a["hb"])((function(){return[Object(a["q"])(oe,{associations:e.modelRef.teardown,"onUpdate:associations":t[12]||(t[12]=function(t){return e.associations=e.modelRef.teardown})},null,8,["associations"])]})),_:1}),Object(a["q"])(ae,{key:"8"},{tab:Object(a["hb"])((function(){return[D]})),default:Object(a["hb"])((function(){return[Object(a["q"])(H,{value:e.modelRef.result,"onUpdate:value":t[13]||(t[13]=function(t){return e.modelRef.result=t}),style:{"margin-top":"0px","margin-bottom":"0px",height:"150px"}},null,8,["value"])]})),_:1})]})),_:1},8,["activeKey"])]})),_:1},8,["label-col","wrapper-col"])])],64)}var M=n("5530"),Y=(n("caad"),n("2532"),n("e9c4"),n("a434"),n("5a04")),B=n("3af3"),z=n("6c02"),H=n("f64c"),W=n("8fc6"),X=n("47ce"),Z=n("58ef"),$=n("24d2"),ee=n("b775");function te(e){return ee["a"].request({method:"post",url:"debug/",data:e})}var ne=n("1f48"),ae=B["a"].useForm,ue=Object(a["r"])({components:{MinusCircleOutlined:W["a"],PlusOutlined:X["a"],associatedCases:ne["a"]},setup:function(){var e=Object(a["O"])({cases:[]}),t=Object(z["d"])(),n=Object(z["d"])().currentRoute.value.query;void 0!=Object(z["d"])().currentRoute.value.query.id&&Object(Z["d"])(Object(z["d"])().currentRoute.value.query).then((function(e){u.name=e.data[0].name,u.project=e.data[0].project,u.url=e.data[0].url,u.method=e.data[0].method,u.module=e.data[0].module,u.parameter=e.data[0].parameter,u.id=e.data[0].id,u.setup=e.data[0].setup,u.describe=e.data[0].describe,u.teardown=e.data[0].teardown,u.header=e.data[0].header;var t=e.data[0].data;t.includes("{")?u.data=JSON.stringify(JSON.parse(t),null,2):u.data=e.data[0].data,null!=e.data[0].asserts&&(u.asserts=e.data[0].asserts)}));var u=Object(a["O"])({name:"",project:"",url:"",method:[],header:"",parameter:"",data:"",asserts:[],id:"",response:"",setup:{code:"",relation:[]},teardown:{code:"",relation:[]},env:"0",result:"",relation:"",run_time:"",status:status,describe:""}),c=Object(a["O"])({name:[{required:!0,message:"Please input name"}],method:[{required:!0,message:"Please select method",method:"array"}],module:[{required:!0,message:"Please input module"}],url:[{required:!0,message:"Please input url"}],header:[{required:!0,message:"Please input header"}],parameter:[{required:!0,message:"Please input parameter"}],data:[{required:!0,message:"Please input data"}],asserts:[{required:!0,message:"Please input asserts"}]}),r=ae(u,c),l=r.resetFields,o=r.validateInfos,s=r.mergeValidateInfo,d=function(){var a;u.relation=e.cases,delete u["response"],delete u["env"],delete u["result"],delete u["run_time"],delete u["status"],a=void 0==n.id?"post":"put",Object(Z["a"])(u,a).then((function(e){H["a"].success({content:e.msg,duration:5}),200==e.code&&t.push({path:"case",query:{project_id:n.project_id}})}))},i=function(){u.relation=e.cases,te(u).then((function(e){H["a"].success({content:e.msg,duration:5});try{e.data.response.includes("{")?u.response=JSON.stringify(JSON.parse(e.data.response),null,2):u.response=e.data.response}catch(t){u.response=e.data}u.result=JSON.stringify(e.data.result,null,2),u.run_time=e.data.request_data.run_time,u.status=e.data.status_code}))},b=Object(a["i"])((function(){return s(Object(Y["a"])(o))})),f=Object(a["O"])({data:[],value:[],fetching:!1}),j=Object(a["Q"])(),O=function(t){var n=e.cases.indexOf(t);-1!==n&&e.cases.splice(n,1)},p=function(){e.cases.push({mold:"None",value:"",name:"",runRelation:!1,runTeardown:!1})},h=function(t){console.log("Received values of form:",t),console.log("dynamicValidateForm.users:",e.cases)},m=function(e){var t=u.asserts.indexOf(e);-1!==t&&u.asserts.splice(t,1)},v=function(){u.asserts.push({value:"",mold:"response"})},g=Object(a["Q"])([{value:"0",label:"测试环境"},{value:"1",label:"预发布环境"},{value:"2",label:"线上环境"}]),q=function(){console.log("focus")},y=function(e){console.log("selected ".concat(e))},_=Object(a["Q"])([]);return Object($["c"])().then((function(e){for(var t=0;t<e.data.length;t++)_.value.push({value:e.data[t].id,label:e.data[t].name}),n.project_id==e.data[t].id&&(u.project=e.data[t].id);console.log(_.value)})),Object(M["a"])(Object(M["a"])({addAssert:v,removeAssert:m,labelCol:{span:4},wrapperCol:{span:14},validateInfos:o,resetFields:l,modelRef:u,onSubmit:d,errorInfos:b,debug:i,activeKey:Object(a["Q"])("1"),formRef:j,dynamicValidateForm:e,onFinish:h,removeUser:O,addUser:p},Object(a["bb"])(f)),{},{checked:Object(a["Q"])(!1),focus:q,handleChange:y,options1:g,optionsProject:_,project:n})}}),ce=(n("4d7d"),n("6b0d")),re=n.n(ce);const le=re()(ue,[["render",G],["__scopeId","data-v-3ac09b12"]]);t["default"]=le}}]);
//# sourceMappingURL=layout.0b2019eb.js.map