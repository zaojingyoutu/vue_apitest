(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["testplan"],{"12e3":function(t,e,n){"use strict";n.r(e);var a=n("7a23"),r=Object(a["p"])("Create "),o=["onClick"],c=Object(a["p"])(" | "),i=Object(a["n"])("a",null,"Edit",-1),u=Object(a["p"])(" | "),s=Object(a["n"])("a",null,"report",-1),l=Object(a["p"])(" |"),d=["onClick"];function b(t,e,n,b,p,f){var j=Object(a["T"])("router-link"),O=Object(a["T"])("a-button"),m=Object(a["T"])("a-table");return Object(a["K"])(),Object(a["m"])(a["b"],null,[Object(a["q"])(O,{type:"primary"},{default:Object(a["gb"])((function(){return[Object(a["q"])(j,{to:"create_testplan"},{default:Object(a["gb"])((function(){return[r]})),_:1})]})),_:1}),Object(a["q"])(m,{columns:t.columns,"data-source":t.data,scroll:{y:800}},{bodyCell:Object(a["gb"])((function(e){var n=e.record,r=e.column;return["name"===r.dataIndex?(Object(a["K"])(),Object(a["m"])(a["b"],{key:0},[],64)):Object(a["l"])("",!0),"operation"===r.key?(Object(a["K"])(),Object(a["m"])(a["b"],{key:1},[Object(a["n"])("a",{onClick:function(e){return t.deletes(n)}},"Delete",8,o),c,Object(a["q"])(j,{to:{path:"/create_testplan",query:{id:n.id}}},{default:Object(a["gb"])((function(){return[i]})),_:2},1032,["to"]),u,Object(a["q"])(j,{to:{path:"/report",query:{testplan_id:n.id}}},{default:Object(a["gb"])((function(){return[s]})),_:2},1032,["to"]),l,Object(a["n"])("a",{onClick:function(e){return t.runplan(n.id)}}," run",8,d)],64)):Object(a["l"])("",!0)]})),_:1},8,["columns","data-source"])],64)}var p=n("b4a8"),f=n("bc3a"),j=n.n(f),O=n("f64c"),m=[{title:"Full Name",width:"20%",dataIndex:"name",key:"name",ellipsis:!0},{title:"describe",width:"20%",dataIndex:"describe",key:"describe",ellipsis:!0},{title:"project",dataIndex:"project__name",key:"project__name",width:"20%",ellipsis:!0},{title:"createtime",dataIndex:"create_time",key:"create_time",width:"20%",ellipsis:!0},{title:"Action",key:"operation",width:120}],h=Object(a["r"])({data:function(){return{data:[],columns:m}},created:function(){var t=this;Object(p["c"])().then((function(e){t.data=e.data,console.log("=========")}))},setup:function(){var t=function(t){Object(p["b"])(t.id).then((function(t){200==t.code?(O["a"].success({content:"删除成功！",duration:5}),location.reload()):O["a"].success({content:"删除失败！",duration:5}),console.log(t),console.log(t.data.data.result)}))},e=function(t){O["a"].success({content:"开始运行！",duration:5}),j()({method:"post",headers:{Authorization:localStorage.getItem("token")},url:"runtestplan/",data:{id:t}}).then((function(t){200==t.data.code?O["a"].success({content:"运行成功！",duration:5}):O["a"].success({content:"运行失败！",duration:5}),console.log(t),console.log(t.data.data.result)}))};return{deletes:t,runplan:e}}}),g=n("6b0d"),k=n.n(g);const w=k()(h,[["render",b]]);e["default"]=w},b4a8:function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"c",(function(){return o})),n.d(e,"b",(function(){return c}));var a=n("b775");function r(t,e){return a["a"].request({method:e,url:"testplan/",data:t})}function o(t){return a["a"].request({method:"get",url:"testplan/",params:t})}function c(t){return a["a"].request({method:"delete",url:"testplan/",data:[t]})}},b775:function(t,e,n){"use strict";n("d3b7");var a=n("bc3a"),r=n.n(a),o=n("56cd"),c=n("6c02"),i=r.a.create({baseURL:"https://124.71.4.214:8000/api/",timeout:1e4});i.defaults.headers.post["Content-Type"]="application/json;charset=UTF-8";var u=function(t){if(t.response){var e=t.response.data,n=localStorage.getItem("token");if(403===t.response.status&&(o["a"].error({message:"Forbidden",description:e.message}),window.location.href="#/login"),401===t.response.status&&(!e.result||!e.result.isLogin)){o["a"].error({message:"Unauthorized",description:"Authorization verification failed"}),n&&window.location.reload();var a=Object(c["c"])();a.push("/login")}}return Promise.reject(t)};i.interceptors.request.use((function(t){var e=localStorage.getItem("token");return e&&(t.headers["Authorization"]=e),t}),u),i.interceptors.response.use((function(t){return t.data}),u),e["a"]=i}}]);
//# sourceMappingURL=testplan.ecb68684.js.map