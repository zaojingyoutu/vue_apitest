(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["create_variate"],{"0a9a":function(module,__webpack_exports__,__webpack_require__){"use strict";var C_zjy_GitHub_vue_apitest_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("5530"),C_zjy_GitHub_vue_apitest_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("2909"),core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("b0c0"),core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_2__),core_js_modules_es_array_includes_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("caad"),core_js_modules_es_array_includes_js__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(core_js_modules_es_array_includes_js__WEBPACK_IMPORTED_MODULE_3__),core_js_modules_es_string_includes_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("2532"),core_js_modules_es_string_includes_js__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(core_js_modules_es_string_includes_js__WEBPACK_IMPORTED_MODULE_4__),core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("4de4"),core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_5__),core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("d3b7"),core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_6__),core_js_modules_es_array_splice_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("a434"),core_js_modules_es_array_splice_js__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(core_js_modules_es_array_splice_js__WEBPACK_IMPORTED_MODULE_7__),vue__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("7a23"),lodash_es__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("5a04"),ant_design_vue__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("3af3"),ant_design_vue__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("f64c"),vue_router__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("6c02"),_api_testplan__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("b4a8"),_api_cases__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("58ef"),axios__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("bc3a"),axios__WEBPACK_IMPORTED_MODULE_15___default=__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_15__),_api_project__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("24d2"),columns=[{title:"Name",dataIndex:"name"},{title:"project",dataIndex:"project__name"},{title:"module",dataIndex:"module"},{title:"操作",dataIndex:"operation"}],useForm=ant_design_vue__WEBPACK_IMPORTED_MODULE_10__["a"].useForm;__webpack_exports__["a"]=Object(vue__WEBPACK_IMPORTED_MODULE_8__["r"])({setup:function setup(){var router=Object(vue_router__WEBPACK_IMPORTED_MODULE_12__["d"])(),planid=Object(vue_router__WEBPACK_IMPORTED_MODULE_12__["d"])().currentRoute.value.query;void 0!=Object(vue_router__WEBPACK_IMPORTED_MODULE_12__["d"])().currentRoute.value.query.id&&Object(_api_testplan__WEBPACK_IMPORTED_MODULE_13__["c"])(Object(vue_router__WEBPACK_IMPORTED_MODULE_12__["d"])().currentRoute.value.query).then((function(res){if(console.log(res),modelRef.name=res.data[0].name,modelRef.describe=res.data[0].describe,modelRef.id=res.data[0].id,modelRef.env=res.data[0].env,modelRef.project_id=res.data[0].project,modelRef.email=res.data[0].email,formState.project_id=res.data[0].project,res.data[0].case_list.includes("[")&&(console.log(),modelRef.case_list=eval("("+res.data[0].case_list+")"),0!=modelRef.case_list.length))for(var i=0;i<modelRef.case_list.length;i++)state.selectedRowKeys.push(modelRef.case_list[i].id),tmpCaseIds.selectedRowKeys.push(modelRef.case_list[i].id);modelRef.env=res.data[0].env}));var data=Object(vue__WEBPACK_IMPORTED_MODULE_8__["Q"])(),modelRef=Object(vue__WEBPACK_IMPORTED_MODULE_8__["O"])({name:"",describe:"",env:"0",project_id:"",case_list:[],email:""}),count=Object(vue__WEBPACK_IMPORTED_MODULE_8__["O"])({cases_count:0,cases_false:0}),rulesRef=Object(vue__WEBPACK_IMPORTED_MODULE_8__["O"])({name:[{required:!0,message:"Please input name"}],describe:[{message:"Please input describe"}],start_time:[{required:!0,message:"Please input start_time"}],end_time:[{required:!0,message:"Please input end_time"}]}),_useForm=useForm(modelRef,rulesRef),resetFields=_useForm.resetFields,validateInfos=_useForm.validateInfos,mergeValidateInfo=_useForm.mergeValidateInfo,onSubmit=function(){var e;console.log(Object(vue__WEBPACK_IMPORTED_MODULE_8__["Z"])(modelRef)),e=void 0==planid.id?"post":"put",Object(_api_testplan__WEBPACK_IMPORTED_MODULE_13__["a"])(modelRef,e).then((function(e){ant_design_vue__WEBPACK_IMPORTED_MODULE_11__["a"].success({content:e.msg,duration:5}),200==e.code&&router.push("/testplan"),console.log(e)}))},errorInfos=Object(vue__WEBPACK_IMPORTED_MODULE_8__["i"])((function(){return mergeValidateInfo(Object(lodash_es__WEBPACK_IMPORTED_MODULE_9__["a"])(validateInfos))})),visible=Object(vue__WEBPACK_IMPORTED_MODULE_8__["Q"])(!1),size=Object(vue__WEBPACK_IMPORTED_MODULE_8__["Q"])("default"),showDrawer=function(e){size.value=e,visible.value=!0,Object(_api_cases__WEBPACK_IMPORTED_MODULE_14__["d"])(formState).then((function(e){data.value=e.data,console.log(state.selectedRowKeys)}))},Close=function(){visible.value=!1},onClose=function(){if(tmpCaseIds.selectedRowKeys=state.selectedRowKeys,modelRef.case_list.length>0){var e,t=Object(C_zjy_GitHub_vue_apitest_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_1__["a"])(tmpCaseIds.selectedRows).filter((function(e){return Object(C_zjy_GitHub_vue_apitest_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_1__["a"])(modelRef.case_list).every((function(t){return t.id!==e.id}))}));(e=modelRef.case_list).push.apply(e,Object(C_zjy_GitHub_vue_apitest_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_1__["a"])(t)),console.log(modelRef.case_list)}else{var _;(_=modelRef.case_list).push.apply(_,Object(C_zjy_GitHub_vue_apitest_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_1__["a"])(tmpCaseIds.selectedRows))}visible.value=!1},formRef=Object(vue__WEBPACK_IMPORTED_MODULE_8__["Q"])(),onFinish=function(e){console.log("Received values of form:",e),console.log("modelRef.case_list",state.selectedRowKeys,modelRef.case_list),Object(_api_cases__WEBPACK_IMPORTED_MODULE_14__["d"])(formState).then((function(e){data.value=e.data,total.value=e.total}))},runplan=function(){axios__WEBPACK_IMPORTED_MODULE_15___default()({method:"post",headers:{Authorization:localStorage.getItem("token")},url:"runtestplan/",data:planid}).then((function(e){200==e.data.code?(count.cases_count=e.data.data.count.cases_count,count.cases_result=e.data.data.count.cases_result,ant_design_vue__WEBPACK_IMPORTED_MODULE_11__["a"].success({content:"运行成功！",duration:5})):ant_design_vue__WEBPACK_IMPORTED_MODULE_11__["a"].success({content:"运行失败！",duration:5}),console.log(e),console.log(e.data.data.result)}))},state=Object(vue__WEBPACK_IMPORTED_MODULE_8__["O"])({selectedRowKeys:[],loading:!1}),hasSelected=Object(vue__WEBPACK_IMPORTED_MODULE_8__["i"])((function(){return state.selectedRowKeys.length>0})),start=function(){state.loading=!0,setTimeout((function(){state.loading=!1}),1e3)},tmpCaseIds=Object(vue__WEBPACK_IMPORTED_MODULE_8__["O"])({selectedRowKeys:[],selectedRows:[]}),onSelectChange=function(e,t){console.log("selectedRowKeys changed: ",e,t,state.selectedRowKeys),state.selectedRowKeys=e,tmpCaseIds.selectedRows=t},formState=Object(vue__WEBPACK_IMPORTED_MODULE_8__["O"])({}),total=Object(vue__WEBPACK_IMPORTED_MODULE_8__["Q"])(),onChange=function(e){formState["current"]=e.current,Object(_api_cases__WEBPACK_IMPORTED_MODULE_14__["d"])(formState).then((function(e){data.value=e.data,total.value=e.total}))},options1=Object(vue__WEBPACK_IMPORTED_MODULE_8__["Q"])([{value:"0",label:"测试环境"},{value:"1",label:"预发布环境"},{value:"2",label:"线上环境"}]),focus=function(){console.log("focus")},handleChange=function(e){console.log("selected ".concat(e))},project=Object(vue_router__WEBPACK_IMPORTED_MODULE_12__["d"])().currentRoute.value.query,optionsProject=Object(vue__WEBPACK_IMPORTED_MODULE_8__["Q"])([]);Object(_api_project__WEBPACK_IMPORTED_MODULE_16__["c"])().then((function(e){for(var t=0;t<e.data.length;t++)optionsProject.value.push({value:e.data[t].id,label:e.data[t].name}),project.project_id==e.data[t].id&&(modelRef.project_id=e.data[t].id);console.log(optionsProject.value)}));var deletes=function(e){var t=modelRef.case_list.indexOf(e);modelRef.case_list.splice(t,1);var _=state.selectedRowKeys.indexOf(e.id);delete state.selectedRowKeys[_],console.log(t)},getCheckboxProps=function(e){return{disabled:tmpCaseIds.selectedRowKeys.includes(e.id)}};return Object(C_zjy_GitHub_vue_apitest_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_0__["a"])(Object(C_zjy_GitHub_vue_apitest_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_0__["a"])({formState:formState,data:data,columns:columns,runplan:runplan,activeKey:Object(vue__WEBPACK_IMPORTED_MODULE_8__["Q"])("1"),labelCol:{span:4},wrapperCol:{span:14},validateInfos:validateInfos,resetFields:resetFields,modelRef:modelRef,onSubmit:onSubmit,errorInfos:errorInfos,value1:Object(vue__WEBPACK_IMPORTED_MODULE_8__["Q"])(),visible:visible,size:size,showDrawer:showDrawer,onClose:onClose,formRef:formRef,onFinish:onFinish,Close:Close,count:count,hasSelected:hasSelected},Object(vue__WEBPACK_IMPORTED_MODULE_8__["bb"])(state)),{},{start:start,onSelectChange:onSelectChange,total:total,onChange:onChange,focus:focus,handleChange:handleChange,options1:options1,optionsProject:optionsProject,deletes:deletes,getCheckboxProps:getCheckboxProps})}})},"0f0c":function(e,t,_){"use strict";_.d(t,"a",(function(){return a})),_.d(t,"c",(function(){return o})),_.d(t,"b",(function(){return r}));var n=_("b775");function a(e,t){return n["a"].request({method:t,url:"globalsvariate/",data:e})}function o(e){return n["a"].request({method:"get",url:"globalsvariate/",params:e})}function r(e){return n["a"].request({method:"delete",url:"globalsvariate/",data:[e]})}},1148:function(e,t,_){"use strict";var n=_("da84"),a=_("5926"),o=_("577e"),r=_("1d80"),c=n.RangeError;e.exports=function(e){var t=o(r(this)),_="",n=a(e);if(n<0||n==1/0)throw c("Wrong number of repetitions");for(;n>0;(n>>>=1)&&(t+=t))1&n&&(_+=t);return _}},"24d2":function(e,t,_){"use strict";_.d(t,"a",(function(){return a})),_.d(t,"c",(function(){return o})),_.d(t,"b",(function(){return r}));var n=_("b775");function a(e,t){return n["a"].request({method:t,url:"project/",data:e})}function o(e){return n["a"].request({method:"get",url:"project/",params:e})}function r(e){return n["a"].request({method:"delete",url:"project/",data:[e]})}},2532:function(e,t,_){"use strict";var n=_("23e7"),a=_("e330"),o=_("5a34"),r=_("1d80"),c=_("577e"),u=_("ab13"),s=a("".indexOf);n({target:"String",proto:!0,forced:!u("includes")},{includes:function(e){return!!~s(c(r(this)),c(o(e)),arguments.length>1?arguments[1]:void 0)}})},"3f29":function(e,t,_){},"408a":function(e,t,_){var n=_("e330");e.exports=n(1..valueOf)},"44e7":function(e,t,_){var n=_("861d"),a=_("c6b6"),o=_("b622"),r=o("match");e.exports=function(e){var t;return n(e)&&(void 0!==(t=e[r])?!!t:"RegExp"==a(e))}},"58ef":function(e,t,_){"use strict";_.d(t,"a",(function(){return a})),_.d(t,"d",(function(){return o})),_.d(t,"b",(function(){return r})),_.d(t,"c",(function(){return c}));var n=_("b775");function a(e,t){return n["a"].request({method:t,url:"case/",data:e})}function o(e){return n["a"].request({method:"get",url:"case/",params:e})}function r(e){return n["a"].request({method:"post",url:"case/",data:e})}function c(e){return n["a"].request({method:"delete",url:"case/",data:[e]})}},"5a04":function(e,t,_){"use strict";var n=_("ca54"),a=_("7804"),o=_("60ce"),r=_("e56b"),c=_("f0ce"),u=_("ff51"),s=_("1147"),l="[object String]";function i(e){return"string"==typeof e||!Object(u["a"])(e)&&Object(s["a"])(e)&&Object(c["a"])(e)==l}var d=i;function b(e){var t,_=[];while(!(t=e.next()).done)_.push(t.value);return _}var f=b,O=_("61ee"),j=_("1989"),p=_("2a23"),m=_("b703");function v(e,t){return Object(m["a"])(t,(function(t){return e[t]}))}var E=v,h=_("9a4b");function P(e){return null==e?[]:E(e,Object(h["a"])(e))}var R=P,C="[object Map]",D="[object Set]",M=n["a"]?n["a"].iterator:void 0;function g(e){if(!e)return[];if(Object(r["a"])(e))return d(e)?Object(p["a"])(e):Object(a["a"])(e);if(M&&e[M])return f(e[M]());var t=Object(o["a"])(e),_=t==C?O["a"]:t==D?j["a"]:R;return _(e)}t["a"]=g},"5a34":function(e,t,_){var n=_("da84"),a=_("44e7"),o=n.TypeError;e.exports=function(e){if(a(e))throw o("The method doesn't accept regular expressions");return e}},"73e6":function(e,t,_){"use strict";_("3f29")},a434:function(e,t,_){"use strict";var n=_("23e7"),a=_("da84"),o=_("23cb"),r=_("5926"),c=_("07fa"),u=_("7b0b"),s=_("65f0"),l=_("8418"),i=_("1dde"),d=i("splice"),b=a.TypeError,f=Math.max,O=Math.min,j=9007199254740991,p="Maximum allowed length exceeded";n({target:"Array",proto:!0,forced:!d},{splice:function(e,t){var _,n,a,i,d,m,v=u(this),E=c(v),h=o(e,E),P=arguments.length;if(0===P?_=n=0:1===P?(_=0,n=E-h):(_=P-2,n=O(f(r(t),0),E-h)),E+_-n>j)throw b(p);for(a=s(v,n),i=0;i<n;i++)d=h+i,d in v&&l(a,i,v[d]);if(a.length=n,_<n){for(i=h;i<E-n;i++)d=i+n,m=i+_,d in v?v[m]=v[d]:delete v[m];for(i=E;i>E-n+_;i--)delete v[i-1]}else if(_>n)for(i=E-n;i>h;i--)d=i+n-1,m=i+_-1,d in v?v[m]=v[d]:delete v[m];for(i=0;i<_;i++)v[i+h]=arguments[i+2];return v.length=E-n+_,a}})},ab13:function(e,t,_){var n=_("b622"),a=n("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(_){try{return t[a]=!1,"/./"[e](t)}catch(n){}}return!1}},b4a8:function(e,t,_){"use strict";_.d(t,"a",(function(){return a})),_.d(t,"c",(function(){return o})),_.d(t,"b",(function(){return r}));var n=_("b775");function a(e,t){return n["a"].request({method:t,url:"testplan/",data:e})}function o(e){return n["a"].request({method:"get",url:"testplan/",params:e})}function r(e){return n["a"].request({method:"delete",url:"testplan/",data:[e]})}},b680:function(e,t,_){"use strict";var n=_("23e7"),a=_("da84"),o=_("e330"),r=_("5926"),c=_("408a"),u=_("1148"),s=_("d039"),l=a.RangeError,i=a.String,d=Math.floor,b=o(u),f=o("".slice),O=o(1..toFixed),j=function(e,t,_){return 0===t?_:t%2===1?j(e,t-1,_*e):j(e*e,t/2,_)},p=function(e){var t=0,_=e;while(_>=4096)t+=12,_/=4096;while(_>=2)t+=1,_/=2;return t},m=function(e,t,_){var n=-1,a=_;while(++n<6)a+=t*e[n],e[n]=a%1e7,a=d(a/1e7)},v=function(e,t){var _=6,n=0;while(--_>=0)n+=e[_],e[_]=d(n/t),n=n%t*1e7},E=function(e){var t=6,_="";while(--t>=0)if(""!==_||0===t||0!==e[t]){var n=i(e[t]);_=""===_?n:_+b("0",7-n.length)+n}return _},h=s((function(){return"0.000"!==O(8e-5,3)||"1"!==O(.9,0)||"1.25"!==O(1.255,2)||"1000000000000000128"!==O(0xde0b6b3a7640080,0)}))||!s((function(){O({})}));n({target:"Number",proto:!0,forced:h},{toFixed:function(e){var t,_,n,a,o=c(this),u=r(e),s=[0,0,0,0,0,0],d="",O="0";if(u<0||u>20)throw l("Incorrect fraction digits");if(o!=o)return"NaN";if(o<=-1e21||o>=1e21)return i(o);if(o<0&&(d="-",o=-o),o>1e-21)if(t=p(o*j(2,69,1))-69,_=t<0?o*j(2,-t,1):o/j(2,t,1),_*=4503599627370496,t=52-t,t>0){m(s,0,_),n=u;while(n>=7)m(s,1e7,0),n-=7;m(s,j(10,n,1),0),n=t-1;while(n>=23)v(s,1<<23),n-=23;v(s,1<<n),m(s,1,1),v(s,2),O=E(s)}else m(s,0,_),m(s,1<<-t,0),O=E(s)+b("0",u);return u>0?(a=O.length,O=d+(a<=u?"0."+b("0",u-a)+O:f(O,0,a-u)+"."+f(O,a-u))):O=d+O,O}})},b775:function(e,t,_){"use strict";_("d3b7");var n,a=_("bc3a"),o=_.n(a),r=_("56cd"),c=_("6c02");n="dev"==Object({NODE_ENV:"production",BASE_URL:""}).VUE_APP_FLAG?Object({NODE_ENV:"production",BASE_URL:""}).VUE_APP_BASEURL:"https://www.zaojingyoutu.top:8000/api/";var u=o.a.create({baseURL:n,timeout:3e5});u.defaults.headers.post["Content-Type"]="application/json;charset=UTF-8";var s=function(e){if(e.response){var t=e.response.data,_=localStorage.getItem("token");if(403===e.response.status&&(r["a"].error({message:"Forbidden",description:t.message}),window.location.href="#/login"),401===e.response.status&&(!t.result||!t.result.isLogin)){r["a"].error({message:"Unauthorized",description:"Authorization verification failed"}),_&&window.location.reload();var n=Object(c["d"])();n.push("/login")}}return Promise.reject(e)};u.interceptors.request.use((function(e){var t=localStorage.getItem("token");return t&&(e.headers["Authorization"]=t),e}),s),u.interceptors.response.use((function(e){return e.data["status"]=e.status,e.data}),s),t["a"]=u},c580:function(e,t,_){"use strict";_.r(t);_("b0c0"),_("b680");var n=_("7a23"),a=Object(n["n"])("div",{class:"title"},"测试计划",-1),o={class:"selectEnv",style:{float:"left"}},r={class:"selectEnv",style:{float:"left"}},c=Object(n["p"])("Submit"),u=Object(n["p"])("Reset "),s=Object(n["p"])("添加用例 "),l=["onClick"],i=Object(n["p"])("Cancel"),d=Object(n["p"])("Submit"),b={class:"SearchCases",style:{"margin-bottom":"10px"}},f={class:"selectEnv",style:{float:"left"}},O=Object(n["p"])("Search "),j=Object(n["p"])("Clear "),p=Object(n["p"])("run"),m=Object(n["n"])("br",null,null,-1),v=Object(n["n"])("br",null,null,-1),E=Object(n["p"])("  "),h={style:{color:"red"}};function P(e,t,_,P,R,C){var D=Object(n["U"])("a-input"),M=Object(n["U"])("a-form-item"),g=Object(n["U"])("a-select"),y=Object(n["U"])("a-button"),U=Object(n["U"])("a-form"),I=Object(n["U"])("a-tab-pane"),q=Object(n["U"])("router-link"),w=Object(n["U"])("a-table"),K=Object(n["U"])("a-row"),A=Object(n["U"])("a-col"),L=Object(n["U"])("a-drawer"),T=Object(n["U"])("a-progress"),B=Object(n["U"])("a-tabs");return Object(n["K"])(),Object(n["m"])(n["b"],null,[a,Object(n["q"])(B,{activeKey:e.activeKey,"onUpdate:activeKey":t[9]||(t[9]=function(t){return e.activeKey=t})},{default:Object(n["hb"])((function(){return[Object(n["q"])(I,{key:"1",tab:"基本信息"},{default:Object(n["hb"])((function(){return[Object(n["n"])("div",null,[Object(n["q"])(U,{"label-col":e.labelCol,"wrapper-col":e.wrapperCol},{default:Object(n["hb"])((function(){return[Object(n["q"])(M,{label:"name",required:""},{default:Object(n["hb"])((function(){return[Object(n["q"])(D,{value:e.modelRef.name,"onUpdate:value":t[0]||(t[0]=function(t){return e.modelRef.name=t})},null,8,["value"])]})),_:1}),Object(n["q"])(M,{label:"describe"},{default:Object(n["hb"])((function(){return[Object(n["q"])(D,{value:e.modelRef.describe,"onUpdate:value":t[1]||(t[1]=function(t){return e.modelRef.describe=t})},null,8,["value"])]})),_:1}),Object(n["q"])(M,{label:"env"},{default:Object(n["hb"])((function(){return[Object(n["n"])("div",o,[Object(n["q"])(g,{ref:"select",value:e.modelRef.env,"onUpdate:value":t[2]||(t[2]=function(t){return e.modelRef.env=t}),style:{width:"120px"},options:e.options1,onFocus:e.focus,onChange:e.handleChange},null,8,["value","options","onFocus","onChange"])])]})),_:1}),Object(n["q"])(M,{label:"project"},{default:Object(n["hb"])((function(){return[Object(n["n"])("div",r,[Object(n["q"])(g,{ref:"select",value:e.modelRef.project_id,"onUpdate:value":t[3]||(t[3]=function(t){return e.modelRef.project_id=t}),style:{width:"120px"},options:e.optionsProject},null,8,["value","options"])])]})),_:1}),Object(n["q"])(M,{label:"通知邮件"},{default:Object(n["hb"])((function(){return[Object(n["q"])(D,{value:e.modelRef.email,"onUpdate:value":t[4]||(t[4]=function(t){return e.modelRef.email=t})},null,8,["value"])]})),_:1}),Object(n["q"])(M,Object(n["y"])({class:"error-infos","wrapper-col":{span:14,offset:4}},e.errorInfos),{default:Object(n["hb"])((function(){return[Object(n["q"])(y,{type:"primary",onClick:Object(n["jb"])(e.onSubmit,["prevent"])},{default:Object(n["hb"])((function(){return[c]})),_:1},8,["onClick"]),Object(n["q"])(y,{style:{"margin-left":"10px"},onClick:e.resetFields},{default:Object(n["hb"])((function(){return[u]})),_:1},8,["onClick"])]})),_:1},16)]})),_:1},8,["label-col","wrapper-col"])])]})),_:1}),Object(n["q"])(I,{key:"2",tab:"添加用例","force-render":""},{default:Object(n["hb"])((function(){return[Object(n["n"])("div",null,[Object(n["q"])(y,{type:"primary",onClick:t[5]||(t[5]=function(t){return e.showDrawer("large")})},{default:Object(n["hb"])((function(){return[s]})),_:1}),Object(n["q"])(w,{dataSource:e.modelRef.case_list,columns:e.columns,pagination:!1},{bodyCell:Object(n["hb"])((function(t){var _=t.record,a=t.column,o=t.text;return["name"===a.dataIndex?(Object(n["K"])(),Object(n["k"])(q,{key:0,to:{path:"/debug",query:{id:_.id}}},{default:Object(n["hb"])((function(){return[Object(n["n"])("a",null,Object(n["Y"])(o),1)]})),_:2},1032,["to"])):Object(n["l"])("",!0),"operation"===a.dataIndex?(Object(n["K"])(),Object(n["m"])("a",{key:1,onClick:function(t){return e.deletes(_)}},"Delete",8,l)):Object(n["l"])("",!0)]})),_:1},8,["dataSource","columns"]),Object(n["q"])(L,{title:"Basic Drawer",size:e.size,visible:e.visible,onClose:e.onClose},{extra:Object(n["hb"])((function(){return[Object(n["q"])(y,{style:{"margin-right":"8px"},onClick:e.Close},{default:Object(n["hb"])((function(){return[i]})),_:1},8,["onClick"]),Object(n["q"])(y,{type:"primary",onClick:e.onClose},{default:Object(n["hb"])((function(){return[d]})),_:1},8,["onClick"])]})),default:Object(n["hb"])((function(){return[Object(n["n"])("div",null,[Object(n["n"])("div",b,[Object(n["q"])(U,{ref:"formRef",name:"advanced_search",class:"ant-advanced-search-form",model:e.formState,onFinish:e.onFinish},{default:Object(n["hb"])((function(){return[Object(n["q"])(K,{gutter:24,style:{float:"left",height:"32px"}},{default:Object(n["hb"])((function(){return[Object(n["q"])(M,{name:"name",label:"name",rules:[{message:"input something"}]},{default:Object(n["hb"])((function(){return[Object(n["q"])(D,{value:e.formState["name"],"onUpdate:value":t[6]||(t[6]=function(t){return e.formState["name"]=t}),placeholder:"placeholder"},null,8,["value"])]})),_:1}),Object(n["q"])(M,{label:"project"},{default:Object(n["hb"])((function(){return[Object(n["n"])("div",f,[Object(n["q"])(g,{ref:"select",value:e.formState["project_id"],"onUpdate:value":t[7]||(t[7]=function(t){return e.formState["project_id"]=t}),style:{width:"120px"},options:e.optionsProject},null,8,["value","options"])])]})),_:1})]})),_:1}),Object(n["q"])(K,null,{default:Object(n["hb"])((function(){return[Object(n["q"])(A,{span:24,style:{"text-align":"right"}},{default:Object(n["hb"])((function(){return[Object(n["q"])(y,{type:"primary","html-type":"submit"},{default:Object(n["hb"])((function(){return[O]})),_:1}),Object(n["q"])(y,{style:{margin:"0 8px"},onClick:t[8]||(t[8]=function(){return e.formRef.resetFields()})},{default:Object(n["hb"])((function(){return[j]})),_:1})]})),_:1})]})),_:1})]})),_:1},8,["model","onFinish"])]),Object(n["q"])(w,{"row-selection":{selectedRowKeys:e.selectedRowKeys,onChange:e.onSelectChange,getCheckboxProps:e.getCheckboxProps},"row-key":function(e){return e.id},columns:e.columns,"data-source":e.data,pagination:!1},null,8,["row-selection","row-key","columns","data-source"])])]})),_:1},8,["size","visible","onClose"])])]})),_:1}),Object(n["q"])(I,{key:"3",tab:"测试报告"},{format:Object(n["hb"])((function(e){return[Object(n["n"])("span",h,Object(n["Y"])(e),1)]})),default:Object(n["hb"])((function(){return[Object(n["q"])(y,{type:"primary",onClick:e.runplan},{default:Object(n["hb"])((function(){return[p]})),_:1},8,["onClick"]),m,v,Object(n["n"])("div",null," 运行用例数："+Object(n["Y"])(e.count.cases_count)+"   失败用例数："+Object(n["Y"])(e.count.cases_result),1),Object(n["q"])(T,{type:"circle",percent:(e.count.cases_result/e.count.cases_count*100).toFixed(2),status:"exception",format:function(e){return"".concat(e," %")}},null,8,["percent","format"]),E,Object(n["q"])(T,{type:"circle",percent:100-(e.count.cases_result/e.count.cases_count*100).toFixed(2),format:function(e){return"".concat(e," %")}},null,8,["percent","format"])]})),_:1})]})),_:1},8,["activeKey"])],64)}var R=_("0a9a"),C=_("6b0d"),D=_.n(C);const M=D()(R["a"],[["render",P]]);t["default"]=M},caad:function(e,t,_){"use strict";var n=_("23e7"),a=_("4d64").includes,o=_("44d2");n({target:"Array",proto:!0},{includes:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}}),o("includes")},dfa2:function(e,t,_){"use strict";_.r(t);var n=_("7a23"),a={class:"selectEnv",style:{float:"left"}},o={class:"selectEnv",style:{float:"left"}},r=Object(n["p"])("Create"),c=Object(n["p"])("Reset");function u(e,t,_,u,s,l){var i=Object(n["U"])("a-input"),d=Object(n["U"])("a-form-item"),b=Object(n["U"])("a-select"),f=Object(n["U"])("a-button"),O=Object(n["U"])("a-form");return Object(n["K"])(),Object(n["k"])(O,{"label-col":e.labelCol,"wrapper-col":e.wrapperCol},{default:Object(n["hb"])((function(){return[Object(n["q"])(d,{label:"变量名",required:""},{default:Object(n["hb"])((function(){return[Object(n["q"])(i,{value:e.modelRef.key,"onUpdate:value":t[0]||(t[0]=function(t){return e.modelRef.key=t})},null,8,["value"])]})),_:1}),Object(n["q"])(d,{label:"变量值"},{default:Object(n["hb"])((function(){return[Object(n["q"])(i,{value:e.modelRef.value,"onUpdate:value":t[1]||(t[1]=function(t){return e.modelRef.value=t})},null,8,["value"])]})),_:1}),Object(n["q"])(d,{label:"环境",required:""},{default:Object(n["hb"])((function(){return[Object(n["n"])("div",a,[Object(n["q"])(b,{ref:"select",value:e.modelRef.env,"onUpdate:value":t[2]||(t[2]=function(t){return e.modelRef.env=t}),style:{width:"120px"},options:e.options1,onFocus:e.focus,onChange:e.handleChange},null,8,["value","options","onFocus","onChange"])])]})),_:1}),Object(n["q"])(d,{label:"项目",required:""},{default:Object(n["hb"])((function(){return[Object(n["n"])("div",o,[Object(n["q"])(b,{ref:"select",value:e.modelRef.project_id,"onUpdate:value":t[3]||(t[3]=function(t){return e.modelRef.project_id=t}),style:{width:"120px"},options:e.optionsProject,onFocus:e.focus,onChange:e.handleChange},null,8,["value","options","onFocus","onChange"])])]})),_:1}),Object(n["q"])(d,Object(n["y"])({class:"error-infos","wrapper-col":{span:14,offset:4}},e.errorInfos),{default:Object(n["hb"])((function(){return[Object(n["q"])(f,{type:"primary",onClick:Object(n["jb"])(e.onSubmit,["prevent"])},{default:Object(n["hb"])((function(){return[r]})),_:1},8,["onClick"]),Object(n["q"])(f,{style:{"margin-left":"10px"},onClick:e.resetFields},{default:Object(n["hb"])((function(){return[c]})),_:1},8,["onClick"])]})),_:1},16)]})),_:1},8,["label-col","wrapper-col"])}_("b0c0");var s=_("5a04"),l=_("3af3"),i=_("f64c"),d=_("6c02"),b=_("0f0c"),f=_("24d2"),O=l["a"].useForm,j=Object(n["r"])({setup:function(){var e=Object(d["d"])(),t=Object(d["d"])().currentRoute.value.query;void 0!=Object(d["d"])().currentRoute.value.query.id&&Object(b["c"])(Object(d["d"])().currentRoute.value.query).then((function(e){console.log(e),_.key=e.data[0].key,_.value=e.data[0].value,_.env=e.data[0].env,_.project_id=e.data[0].project,_.id=e.data[0].id}));var _=Object(n["O"])({key:"",value:"",env:"0",project_id:""}),a=Object(n["O"])({key:[{required:!0,message:"Please input key"}],value:[{message:"Please input value"}],start_time:[{required:!0,message:"Please input start_time"}],env:[{required:!0,message:"Please input env"}]}),o=O(_,a),r=o.resetFields,c=o.validate,u=o.validateInfos,l=o.mergeValidateInfo,j=function(){c().then((function(){var a;console.log(Object(n["Z"])(_)),a=void 0==t.id?"post":"put",Object(b["a"])(_,a).then((function(t){i["a"].success({content:t.msg,duration:5}),200==t.code&&e.push("/variate_list"),console.log(t)}))})).catch((function(e){console.log("error",e)}))},p=Object(n["Q"])([{value:"0",label:"测试环境"},{value:"1",label:"预发布环境"},{value:"2",label:"线上环境"}]),m=function(){console.log("focus")},v=function(e){console.log("selected ".concat(e))},E=Object(n["i"])((function(){return l(Object(s["a"])(u))})),h=Object(n["Q"])([]);return Object(f["c"])().then((function(e){for(var n=0;n<e.data.length;n++)h.value.push({value:e.data[n].id,label:e.data[n].name}),t.project_id==e.data[n].id&&(_.project_id=e.data[n].id);console.log(h.value)})),{labelCol:{span:4},wrapperCol:{span:14},validateInfos:u,resetFields:r,modelRef:_,onSubmit:j,errorInfos:E,value1:Object(n["Q"])(),focus:m,handleChange:v,options1:p,optionsProject:h}}}),p=(_("73e6"),_("6b0d")),m=_.n(p);const v=m()(j,[["render",u],["__scopeId","data-v-43fdbfc5"]]);t["default"]=v}}]);
//# sourceMappingURL=create_variate.9defcc5d.js.map